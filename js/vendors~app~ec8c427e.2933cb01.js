(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors~app~ec8c427e"],{a15f:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return m}));var s=n("5313");
/*!
    * tiptap-utils v1.13.0
    * (c) 2021 端berdosis GbR (limited liability)
    * @license MIT
    */function r(t,e){return e?t.createChecked(null,e):t.createAndFill()}function i(t,e,n,s,i){const o=function(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const s=t.nodes[n];s.spec.tableRole&&(e[s.spec.tableRole]=s)}),t.cached.tableNodeTypes=e,e}(t),c=[],a=[];for(let t=0;t<n;t+=1){const t=r(o.cell,i);if(t&&a.push(t),s){const t=r(o.header_cell,i);t&&c.push(t)}}const u=[];for(let t=0;t<e;t+=1)u.push(o.row.createChecked(null,s&&0===t?c:a));return o.table.createChecked(null,u)}function o(t,e,n){if(!t)throw new Error('Invalid "node" parameter');if(!e)throw new Error('Invalid "predicate" parameter');return function(t){const e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error('Invalid "node" parameter');const n=[];return t.descendants((t,s)=>{if(n.push({node:t,pos:s}),!e)return!1}),n}(t,n).filter(t=>e(t.node))}function c(t,e){return o(t,t=>t.isBlock,e)}function a(t){return e=>function(t,e){for(let n=t.depth;n>0;n-=1){const s=t.node(n);if(e(s))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:s}}}(e.$from,t)}function u(t){return function(e){if(function(t){return t instanceof s.c}(e)){const{node:n}=e,{$from:s}=e;if(function(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t}(t,n))return{node:n,pos:s.pos,depth:s.depth}}}}function h(t,e){const{from:n,to:s}=t.selection;let r=[];t.doc.nodesBetween(n,s,t=>{r=[...r,...t.marks]});const i=r.find(t=>t.type.name===e.name);return i?i.attrs:{}}function d(t=null,e=null){if(!t||!e)return!1;const n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;const s=n.node.marks.find(t=>t.type===e);if(!s)return!1;let r=t.index(),i=t.start()+n.offset,o=r+1,c=i+n.node.nodeSize;for(;r>0&&s.isInSet(t.parent.child(r-1).marks);)r-=1,i-=t.parent.child(r).nodeSize;for(;o<t.parent.childCount&&s.isInSet(t.parent.child(o).marks);)c+=t.parent.child(o).nodeSize,o+=1;return{from:i,to:c}}function l(t,e){const{from:n,to:s}=t.selection;let r=[];t.doc.nodesBetween(n,s,t=>{r=[...r,t]});const i=r.reverse().find(t=>t.type.name===e.name);return i?i.attrs:{}}function p(t,e){const{from:n,$from:s,to:r,empty:i}=t.selection;return i?!!e.isInSet(t.storedMarks||s.marks()):!!t.doc.rangeHasMark(n,r,e)}function f({types:t,node:e}){return Array.isArray(t)&&t.includes(e.type)||e.type===t}function m(t,e,n={}){const s=u(e)(t.selection)||a(t=>t.type===e)(t.selection);return Object.keys(n).length&&s?s.node.hasMarkup(e,{...s.node.attrs,...n}):!!s}},a9de:function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return m})),n.d(e,"n",(function(){return g})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return k})),n.d(e,"s",(function(){return v})),n.d(e,"t",(function(){return O}));var s=n("0010");n.d(e,"a",(function(){return s.b})),n.d(e,"b",(function(){return s.c})),n.d(e,"k",(function(){return s.e})),n.d(e,"r",(function(){return s.f}));var r=n("665f");n.d(e,"d",(function(){return r.a})),n.d(e,"l",(function(){return r.b})),n.d(e,"m",(function(){return r.c}));var i=n("f95e");n.d(e,"o",(function(){return i.c})),n.d(e,"u",(function(){return i.e}));var o=n("5313"),c=n("304a"),a=n("a15f");
/*!
    * tiptap-commands v1.17.0
    * (c) 2021 端berdosis GbR (limited liability)
    * @license MIT
    */
function u(t=""){return(e,n)=>{const{$from:s}=e.selection,{pos:r}=s.pos;return n(e.tr.insertText(t,r)),!0}}function h(t,e,n){return new i.a(t,(t,s,r,i)=>{const o=n instanceof Function?n(s):n,{tr:c}=t,a=s.length-1;let u=i,h=r;if(s[a]){const n=r+s[0].indexOf(s[a-1]),o=n+s[a-1].length-1,d=n+s[a-1].lastIndexOf(s[a]),l=d+s[a].length;if(function(t,e,n){let s=[];return n.doc.nodesBetween(t,e,(t,e)=>{s=[...s,...t.marks.map(n=>({start:e,end:e+t.nodeSize,mark:n}))]}),s}(r,i,t).filter(t=>{const{excluded:n}=t.mark.type;return n.find(t=>t.name===e.name)}).filter(t=>t.end>n).length)return!1;l<o&&c.delete(l,o),d>n&&c.delete(n,d),h=n,u=h+s[a].length}return c.addMark(h,u,e.create(o)),c.removeStoredMark(e),c})}function d(t,e,n){return new i.a(t,(t,s,r,i)=>{const o=n instanceof Function?n(s):n,{tr:c}=t;return s[0]&&c.replaceWith(r-1,i,e.create(o)),c})}function l(t,e,n){const s=r=>{const i=[];return r.forEach(r=>{if(r.isText){const{text:s}=r;let o,c=0;do{if(o=t.exec(s),o){const t=o.index,s=t+o[0].length,a=n instanceof Function?n(o[0]):n;t>0&&i.push(r.cut(c,t)),i.push(r.cut(t,s).mark(e.create(a).addToSet(r.marks))),c=s}}while(o);c<s.length&&i.push(r.cut(c))}else i.push(r.copy(s(r.content)))}),c.c.fromArray(i)};return new o.d({props:{transformPasted:t=>new c.j(s(t.content),t.openStart,t.openEnd)}})}function p(t,e,n){const s=(r,i)=>{const o=[];return r.forEach(r=>{if(r.isText){const{text:s,marks:c}=r;let a,u=0;const h=!!c.filter(t=>"link"===t.type.name)[0];for(;!h&&null!==(a=t.exec(s));)if(i&&i.type.allowsMarkType(e)&&a[1]){const t=a.index,s=t+a[0].length,i=t+a[0].indexOf(a[1]),c=i+a[1].length,h=n instanceof Function?n(a):n;t>0&&o.push(r.cut(u,t)),o.push(r.cut(i,c).mark(e.create(h).addToSet(r.marks))),u=s}u<s.length&&o.push(r.cut(u))}else o.push(r.copy(s(r.content,r)))}),c.c.fromArray(o)};return new o.d({props:{transformPasted:t=>new c.j(s(t.content),t.openStart,t.openEnd)}})}function f(t){return(e,n)=>{const{tr:s,selection:r}=e;let{from:i,to:o}=r;const{$from:c,empty:u}=r;if(u){const e=Object(a.e)(c,t);i=e.from,o=e.to}return s.removeMark(i,o,t),n(s)}}function m(t=null,e,n={},s=c.c.empty){return(r,i)=>{const{$from:o,$to:c}=r.selection,a=o.index(),u=t?t.from:o.pos,h=t?t.to:c.pos;return!!o.parent.canReplaceWith(a,a,e)&&(i&&i(r.tr.replaceWith(u,h,e.create(n,s))),!0)}}function g(t){return function(e,n){const{$from:s,$to:r,node:i}=e.selection;if(i&&i.isBlock||s.depth<2||!s.sameParent(r))return!1;const o=s.node(-1);if(o.type!=t)return!1;if(0==s.parent.content.size){if(2==s.depth||s.node(-3).type!=t||s.index(-2)!=s.node(-2).childCount-1)return!1;if(n){let r=c.c.empty;const i=s.index(-1)>0;for(let t=s.depth-(i?1:2);t>=s.depth-3;t--)r=c.c.from(s.node(t).copy(r));r=r.append(c.c.from(t.createAndFill()));const o=e.tr.replace(s.before(i?null:-1),s.after(-3),new c.j(r,i?3:2,2));o.setSelection(e.selection.constructor.near(o.doc.resolve(s.pos+(i?3:2)))),n(o.scrollIntoView())}return!0}const a=r.pos==s.end()?o.contentMatchAt(s.indexAfter(-1)).defaultType:null,u=e.tr.delete(s.pos,r.pos);let h=a&&[{type:t},{type:a}];return h||(h=[{type:t},null]),!!function(t,e,n=1,s){const r=t.resolve(e),i=r.depth-n,o=s&&s[s.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let t=r.depth-1,e=n-2;t>i;t--,e--){const n=r.node(t),i=r.index(t);if(n.type.spec.isolating)return!1;let o=n.content.cutByIndex(i,n.childCount);const c=s&&s[e]||n;if(c!=n&&(o=o.replaceChild(0,c.type.create(c.attrs))),!n.canReplace(i+1,n.childCount))return!1}const c=r.indexAfter(i),a=s&&s[0];return r.node(i).canReplaceWith(c,c,a?a.type:r.node(i+1).type)}(u.doc,s.pos,2,h)&&(n&&n(u.split(s.pos,2,h).scrollIntoView()),!0)}}function y(t,e,n={}){return(r,i,o)=>Object(a.i)(r,t,n)?Object(s.e)(e)(r,i,o):Object(s.e)(t,n)(r,i,o)}function b(t,e){return t.type===e.nodes.bullet_list||t.type===e.nodes.ordered_list||t.type===e.nodes.todo_list}function k(t,e){return(n,s,i)=>{const{schema:o,selection:c}=n,{$from:u,$to:h}=c,d=u.blockRange(h);if(!d)return!1;const l=Object(a.c)(t=>b(t,o))(c);if(d.depth>=1&&l&&d.depth-l.depth<=1){if(l.node.type===t)return Object(r.a)(e)(n,s,i);if(b(l.node,o)&&t.validContent(l.node.content)){const{tr:e}=n;return e.setNodeMarkup(l.pos,t),s&&s(e),!1}}return Object(r.d)(t)(n,s,i)}}function v(t,e={}){return(n,r,i)=>Object(a.i)(n,t,e)?Object(s.d)(n,r):Object(s.g)(t,e)(n,r,i)}function O(t,e){return(n,s)=>{const{tr:r,selection:i,doc:o}=n,{ranges:c,empty:u}=i;if(u){const{from:n,to:s}=Object(a.e)(i.$from,t);o.rangeHasMark(n,s,t)&&r.removeMark(n,s,t),r.addMark(n,s,t.create(e))}else c.forEach(n=>{const{$to:s,$from:i}=n;o.rangeHasMark(i.pos,s.pos,t)&&r.removeMark(i.pos,s.pos,t),r.addMark(i.pos,s.pos,t.create(e))});return s(r)}}},cd42:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return M})),n.d(e,"d",(function(){return N})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return y})),n.d(e,"g",(function(){return k}));var s=n("5313");n.d(e,"h",(function(){return s.d})),n.d(e,"i",(function(){return s.e}));var r=n("576a"),i=n("304a"),o=n("23f1"),c=n("1a16"),a=n("7f06"),u=n("0010"),h=n("f95e"),d=n("a15f"),l=n("2b0e"),p=n("a9de");class f{constructor(t,{editor:e,extension:n,parent:s,node:r,view:i,decorations:o,getPos:c}){this.component=t,this.editor=e,this.extension=n,this.parent=s,this.node=r,this.view=i,this.decorations=o,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:c,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const t=l.a.extend(this.component),e={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:t=>this.updateAttrs(t)};return"function"==typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"==typeof this.extension.update&&(this.update=this.extension.update),this.vm=new t({parent:this.parent,propsData:e}).$mount(),this.vm.$el}update(t,e){return t.type===this.node.type&&(t===this.node&&this.decorations===e||(this.node=t,this.decorations=e,this.updateComponentProps({node:t,decorations:e})),!0)}updateComponentProps(t){if(!this.vm._props)return;const e=l.a.config.silent;l.a.config.silent=!0,Object.entries(t).forEach(([t,e])=>{this.vm._props[t]=e}),l.a.config.silent=e}updateAttrs(t){if(!this.view.editable)return;const{state:e}=this.view,{type:n}=this.node,s=this.getPos(),r={...this.node.attrs,...t},i=this.isMark?e.tr.removeMark(s.from,s.to,n).addMark(s.from,s.to,n.create(r)):e.tr.setNodeMarkup(s,null,r);this.view.dispatch(i)}ignoreMutation(t){return"selection"!==t.type&&(!this.contentDOM||!this.contentDOM.contains(t.target))}stopEvent(t){if("function"==typeof this.extension.stopEvent)return this.extension.stopEvent(t);const e=!!this.extension.schema.draggable;if(e&&"mousedown"===t.type){const e=t.target.closest&&t.target.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.captureEvents=!1,document.addEventListener("dragend",()=>{this.captureEvents=!0},{once:!0}))}const n="copy"===t.type,s="paste"===t.type,r="cut"===t.type,i=t.type.startsWith("drag")||"drop"===t.type;return!(e&&i||n||s||r)&&this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const t=this.view.posAtDOM(this.dom),e=this.view.state.doc.resolve(t);return Object(d.e)(e,this.node.type)}destroy(){this.vm.$destroy()}}class m{constructor(t={}){this.options={...this.defaultOptions,...t}}init(){return null}bindEditor(t=null){this.editor=t}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class g{constructor(t=[],e){t.forEach(t=>{t.bindEditor(e),t.init()}),this.extensions=t}get nodes(){return this.extensions.filter(t=>"node"===t.type).reduce((t,{name:e,schema:n})=>({...t,[e]:n}),{})}get options(){const{view:t}=this;return this.extensions.reduce((e,n)=>({...e,[n.name]:new Proxy(n.options,{set(e,n,s){const r=e[n]!==s;return Object.assign(e,{[n]:s}),r&&t.updateState(t.state),!0}})}),{})}get marks(){return this.extensions.filter(t=>"mark"===t.type).reduce((t,{name:e,schema:n})=>({...t,[e]:n}),{})}get plugins(){return this.extensions.filter(t=>t.plugins).reduce((t,{plugins:e})=>[...t,...e],[])}keymaps({schema:t}){return[...this.extensions.filter(t=>["extension"].includes(t.type)).filter(t=>t.keys).map(e=>e.keys({schema:t})),...this.extensions.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.keys).map(e=>e.keys({type:t["".concat(e.type,"s")][e.name],schema:t}))].map(t=>Object(a.b)(t))}inputRules({schema:t,excludedExtensions:e}){if(!(e instanceof Array)&&e)return[];const n=e instanceof Array?this.extensions.filter(t=>!e.includes(t.name)):this.extensions;return[...n.filter(t=>["extension"].includes(t.type)).filter(t=>t.inputRules).map(e=>e.inputRules({schema:t})),...n.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.inputRules).map(e=>e.inputRules({type:t["".concat(e.type,"s")][e.name],schema:t}))].reduce((t,e)=>[...t,...e],[])}pasteRules({schema:t,excludedExtensions:e}){if(!(e instanceof Array)&&e)return[];const n=e instanceof Array?this.extensions.filter(t=>!e.includes(t.name)):this.extensions;return[...n.filter(t=>["extension"].includes(t.type)).filter(t=>t.pasteRules).map(e=>e.pasteRules({schema:t})),...n.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.pasteRules).map(e=>e.pasteRules({type:t["".concat(e.type,"s")][e.name],schema:t}))].reduce((t,e)=>[...t,...e],[])}commands({schema:t,view:e}){return this.extensions.filter(t=>t.commands).reduce((n,s)=>{const{name:r,type:i}=s,o={},c=s.commands({schema:t,...["node","mark"].includes(i)?{type:t["".concat(i,"s")][r]}:{}}),a=(t,n)=>!!e.editable&&(e.focus(),t(n)(e.state,e.dispatch,e)),u=(t,e)=>{Array.isArray(e)?o[t]=t=>e.forEach(e=>a(e,t)):"function"==typeof e&&(o[t]=t=>a(e,t))};return"object"==typeof c?Object.entries(c).forEach(([t,e])=>{u(t,e)}):u(r,c),{...n,...o}},{})}}class y extends m{constructor(t={}){super(t)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function b(t=0,e=0,n=0){return Math.min(Math.max(parseInt(t,10),e),n)}class k extends m{constructor(t={}){super(t)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}class v extends k{get name(){return"doc"}get schema(){return{content:"block+"}}}class O extends k{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:t}){return()=>Object(p.k)(t)}}class w extends k{get name(){return"text"}get schema(){return{group:"inline"}}}class _ extends class{on(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}emit(t,...e){this._callbacks=this._callbacks||{};const n=this._callbacks[t];return n&&n.forEach(t=>t.apply(this,e)),this}off(t,e){if(arguments.length){const n=this._callbacks?this._callbacks[t]:null;n&&(e?this._callbacks[t]=n.filter(t=>t!==e):delete this._callbacks[t])}else this._callbacks={};return this}}{constructor(t={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(t)}init(t={}){this.setOptions({...this.defaultOptions,...t}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&function(t){{const e=document.createElement("style");e.type="text/css",e.textContent=t;const{head:n}=document,{firstChild:s}=n;s?n.insertBefore(e,s):n.appendChild(e)}}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n'),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach(t=>{
/*!
    * tiptap v1.32.0
    * (c) 2021 端berdosis GbR (limited liability)
    * @license MIT
    */
var e;this.on(t,this.options[(e="on ".concat(t),e.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0===e?t.toLowerCase():t.toUpperCase()).replace(/\s+/g,""))]||(()=>{}))}),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(t){this.options={...this.options,...t},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new v,new w,new O]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new g([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new i.i({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return s.b.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,Object(h.b)({rules:this.inputRules}),...this.pasteRules,...this.keymaps,Object(a.b)({Backspace:h.d}),Object(a.b)(u.a),...this.options.enableDropCursor?[Object(o.a)(this.options.dropCursor)]:[],...this.options.enableGapCursor?[Object(c.a)()]:[],new s.d({key:new s.e("editable"),props:{editable:()=>this.options.editable}}),new s.d({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(t,e)=>{this.focused=!0,this.emit("focus",{event:e,state:t.state,view:t});const n=this.state.tr.setMeta("focused",!0);this.view.dispatch(n)},blur:(t,e)=>{this.focused=!1,this.emit("blur",{event:e,state:t.state,view:t});const n=this.state.tr.setMeta("focused",!1);this.view.dispatch(n)}}}}),new s.d({props:this.options.editorProps})]})}createDocument(t,e=this.options.parseOptions){if(null===t)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"==typeof t)try{return this.schema.nodeFromJSON(t)}catch(e){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",e),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"==typeof t){const n="<div>".concat(t,"</div>"),s=(new window.DOMParser).parseFromString(n,"text/html").body.firstElementChild;return i.a.fromSchema(this.schema).parse(s,e)}return!1}createView(){return new r.c(this.element,{state:this.createState(),handlePaste:(...t)=>{this.emit("paste",...t)},handleDrop:(...t)=>{this.emit("drop",...t)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(t=null){t&&this.view.setProps({nodeViews:this.initNodeViews({parent:t,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:t,extensions:e}){return e.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.view).reduce((e,n)=>({...e,[n.name]:(e,s,r,i)=>{const o=n.view;return new f(o,{editor:this,extension:n,parent:t,node:e,view:s,getPos:r,decorations:i})}}),{})}dispatchTransaction(t){const e=this.state.apply(t);this.view.updateState(e),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emitUpdate(t)}emitUpdate(t){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t})}resolveSelection(t=null){if(this.selection&&null===t)return this.selection;if("start"===t||!0===t)return{from:0,to:0};if("end"===t){const{doc:t}=this.state;return{from:t.content.size,to:t.content.size}}return{from:t,to:t}}focus(t=null){if(this.view.focused&&null===t||!1===t)return;const{from:e,to:n}=this.resolveSelection(t);this.setSelection(e,n),setTimeout(()=>this.view.focus(),10)}setSelection(t=0,e=0){const{doc:n,tr:r}=this.state,i=b(t,0,n.content.size),o=b(e,0,n.content.size),c=s.h.create(n,i,o),a=r.setSelection(c);this.view.dispatch(a)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const t=document.createElement("div"),e=i.b.fromSchema(this.schema).serializeFragment(this.state.doc.content);return t.appendChild(e),t.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(t={},e=!1,n){const{doc:r,tr:i}=this.state,o=this.createDocument(t,n),c=s.h.create(r,0,r.content.size),a=i.setSelection(c).replaceSelectionWith(o,!1).setMeta("preventUpdate",!e);this.view.dispatch(a)}clearContent(t=!1){this.setContent(this.options.emptyDocument,t)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce((t,[e,n])=>({...t,[e]:(t={})=>Object(d.g)(this.state,n,t)}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((t,[e,n])=>({...t,[e]:Object(d.d)(this.state,n)}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((t,[e,n])=>({...t,[e]:(t={})=>Object(d.i)(this.state,n,t)}),{})}getMarkAttrs(t=null){return this.activeMarkAttrs[t]}getNodeAttrs(t=null){return{...Object(d.f)(this.state,this.schema.nodes[t])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce((t,[e,n])=>({...t,[e]:(t={})=>n(t)}),{})}registerPlugin(t=null,e){const n="function"==typeof e?e(t,this.state.plugins):[t,...this.state.plugins],s=this.state.reconfigure({plugins:n});this.view.updateState(s)}unregisterPlugin(t=null){if(!t||!this.view.docView)return;const e=this.state.reconfigure({plugins:this.state.plugins.filter(e=>!e.key.startsWith("".concat(t,"$")))});this.view.updateState(e)}destroy(){this.view&&this.view.destroy()}}var x={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(t){t&&t.element&&this.$nextTick(()=>{this.$el.appendChild(t.element.firstChild),t.setParentComponent(this)})}}},render:t=>t("div"),beforeDestroy(){this.editor.element=this.$el}};class A{constructor({options:t}){this.options=t,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{this.preventHide?this.preventHide=!1:this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}var M={props:{editor:{default:null,type:Object}},data:()=>({focused:!1}),watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{var e;t.registerPlugin((e={editor:t,element:this.$el},new s.d({key:new s.e("menu_bar"),view:t=>new A({editorView:t,options:e})}))),this.focused=t.focused,t.on("focus",()=>{this.focused=!0}),t.on("menubar:focusUpdate",t=>{this.focused=t})})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};function j(t,e,n){const s=document.createRange();return s.setEnd(t,null==n?t.nodeValue.length:n),s.setStart(t,e||0),s}function C(t,e){const n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function E(t,e,n=!1){const{node:s,offset:r}=t.docView.domFromPos(e);let i,o;if(3===s.nodeType)n&&r<s.nodeValue.length?(o=C(j(s,r-1,r),-1),i="right"):r<s.nodeValue.length&&(o=C(j(s,r,r+1),-1),i="left");else if(s.firstChild){if(r<s.childNodes.length){const t=s.childNodes[r];o=C(3===t.nodeType?j(t):t,-1),i="left"}if((!o||o.top===o.bottom)&&r){const t=s.childNodes[r-1];o=C(3===t.nodeType?j(t):t,1),i="right"}}else o=s.getBoundingClientRect(),i="left";const c=o[i];return{top:o.top,bottom:o.bottom,left:c,right:c}}class R{constructor({options:t,editorView:e}){this.options={element:null,keepInBounds:!0,onUpdate:()=>!1,...t},this.editorView=e,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:t})=>{this.update(t)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:t})=>{this.preventHide?this.preventHide=!1:this.hide(t)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}update(t,e){const{state:n}=t;if(t.composing)return;if(e&&e.doc.eq(n.doc)&&e.selection.eq(n.selection))return;if(n.selection.empty)return void this.hide();const{from:s,to:r}=n.selection,i=E(t,s),o=E(t,r,!0),c=this.options.element.offsetParent;if(!c)return void this.hide();const a=c.getBoundingClientRect(),u=this.options.element.getBoundingClientRect(),h=(i.left+o.left)/2-a.left;this.left=Math.round(this.options.keepInBounds?Math.min(a.width-u.width/2,Math.max(h,u.width/2)):h),this.bottom=Math.round(a.bottom-i.top),this.top=Math.round(o.bottom-a.top),this.isActive=!0,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}hide(t){t&&t.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(t.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}var N={props:{editor:{default:null,type:Object},keepInBounds:{default:!0,type:Boolean}},data:()=>({menu:{isActive:!1,left:0,bottom:0}}),watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{var e;t.registerPlugin((e={editor:t,element:this.$el,keepInBounds:this.keepInBounds,onUpdate:t=>{t.isActive&&!1===this.menu.isActive?this.$emit("show",t):t.isActive||!0!==this.menu.isActive||this.$emit("hide",t),this.menu=t}},new s.d({key:new s.e("menu_bubble"),view:t=>new R({editorView:t,options:e})})))})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy(){this.editor.unregisterPlugin("menu_bubble")}}},daa8:function(t,e,n){"use strict";n.d(e,"a",(function(){return M}));var s={};n.r(s),n.d(s,"protocol",(function(){return f})),n.d(s,"PacketType",(function(){return m})),n.d(s,"Encoder",(function(){return g})),n.d(s,"Decoder",(function(){return b}));var r=n("55ec");var i=n("977b");const o="function"==typeof ArrayBuffer,c=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===c.call(Blob),u="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===c.call(File);function h(t){return o&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||a&&t instanceof Blob||u&&t instanceof File}function d(t){const e=[],n=t.data,s=t;return s.data=function t(e,n){if(!e)return e;if(h(e)){const t={_placeholder:!0,num:n.length};return n.push(e),t}if(Array.isArray(e)){const s=new Array(e.length);for(let r=0;r<e.length;r++)s[r]=t(e[r],n);return s}if("object"==typeof e&&!(e instanceof Date)){const s={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=t(e[r],n));return s}return e}(n,e),s.attachments=e.length,{packet:s,buffers:e}}function l(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<n.length)return n[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=t(e[s],n);else if("object"==typeof e)for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=t(e[s],n));return e}(t.data,e),delete t.attachments,t}const p=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],f=5;var m;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(m||(m={}));class g{constructor(t){this.replacer=t}encode(t){return t.type!==m.EVENT&&t.type!==m.ACK||!function t(e,n){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(t(e[n]))return!0;return!1}if(h(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return!0;return!1}(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===m.EVENT?m.BINARY_EVENT:m.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==m.BINARY_EVENT&&t.type!==m.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=d(t),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}}function y(t){return"[object Object]"===Object.prototype.toString.call(t)}class b extends i.a{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===m.BINARY_EVENT;n||e.type===m.BINARY_ACK?(e.type=n?m.EVENT:m.ACK,this.reconstructor=new k(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!h(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===m[n.type])throw new Error("unknown packet type "+n.type);if(n.type===m.BINARY_EVENT||n.type===m.BINARY_ACK){const s=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const r=t.substring(s,e);if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===t.charAt(e+1)){const s=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(s,e)}else n.nsp="/";const s=t.charAt(e+1);if(""!==s&&Number(s)==s){const s=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){const s=this.tryParse(t.substr(e));if(!b.isPayloadValid(n.type,s))throw new Error("invalid payload");n.data=s}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case m.CONNECT:return y(e);case m.DISCONNECT:return void 0===e;case m.CONNECT_ERROR:return"string"==typeof e||y(e);case m.EVENT:case m.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===p.indexOf(e[0]));case m.ACK:case m.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class k{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=l(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function v(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const O=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class w extends i.a{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[v(t,"open",this.onopen.bind(this)),v(t,"packet",this.onpacket.bind(this)),v(t,"error",this.onerror.bind(this)),v(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,s,r;if(O.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const i={type:m.EVENT,data:e,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,n=e.pop();this._registerAckCallback(t,n),i.id=t}const o=null===(s=null===(n=this.io.engine)||void 0===n?void 0:n.transport)||void 0===s?void 0:s.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,e){var n;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[t]=e);const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))},s),i=(...t)=>{this.io.clearTimeoutFn(r),e.apply(this,t)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...e){return new Promise((n,s)=>{const r=(t,e)=>t?s(t):n(e);r.withError=!0,e.push(r),this.emit(t,...e)})}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((t,...s)=>{if(n!==this._queue[0])return;return null!==t?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...s)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:m.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(e=>String(e.id)===t)){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case m.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case m.EVENT:case m.BINARY_EVENT:this.onevent(t);break;case m.ACK:case m.BINARY_ACK:this.onack(t);break;case m.DISCONNECT:this.ondisconnect();break;case m.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...s){n||(n=!0,e.packet({type:m.ACK,id:t,data:s}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:m.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function _(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},_.prototype.reset=function(){this.attempts=0},_.prototype.setMin=function(t){this.ms=t},_.prototype.setMax=function(t){this.max=t},_.prototype.setJitter=function(t){this.jitter=t};class x extends i.a{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,Object(r.b)(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new _({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||s;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new r.a(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=v(e,"open",(function(){n.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=v(e,"error",i);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),e.close()},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(v(t,"ping",this.onping.bind(this)),v(t,"data",this.ondata.bind(this)),v(t,"error",this.onerror.bind(this)),v(t,"close",this.onclose.bind(this)),v(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){Object(r.c)(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new w(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const A={};function M(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function(t,e="",n){let s=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),s=Object(r.d)(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}(t,(e=e||{}).path||"/socket.io"),s=n.source,i=n.id,o=n.path,c=A[i]&&o in A[i].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||c?a=new x(s,e):(A[i]||(A[i]=new x(s,e)),a=A[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(M,{Manager:x,Socket:w,io:M,connect:M})},f23d:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return M})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return j})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return C})),n.d(e,"l",(function(){return E})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return k})),n.d(e,"o",(function(){return D})),n.d(e,"p",(function(){return R})),n.d(e,"q",(function(){return O})),n.d(e,"r",(function(){return _})),n.d(e,"s",(function(){return w})),n.d(e,"t",(function(){return x})),n.d(e,"u",(function(){return A})),n.d(e,"v",(function(){return N}));var s=n("cd42"),r=n("a9de"),i=(n("3ce4"),n("576a")),o=n("a15f"),c=(n("304a"),n("5313")),a=n("55be"),u=(n("0ac0"),n("46c3"),n("8726"));
/*!
    * tiptap-extensions v1.35.0
    * (c) 2021 端berdosis GbR (limited liability)
    * @license MIT
    */
class h extends s.g{get name(){return"blockquote"}get schema(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}commands({type:t}){return()=>Object(r.s)(t)}keys({type:t}){return{"Ctrl->":Object(r.s)(t)}}inputRules({type:t}){return[Object(r.u)(/^\s*>\s$/,t)]}}class d extends s.g{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:t,schema:e}){return()=>Object(r.q)(t,e.nodes.list_item)}keys({type:t,schema:e}){return{"Shift-Ctrl-8":Object(r.q)(t,e.nodes.list_item)}}inputRules({type:t}){return[Object(r.u)(/^\s*([-+*])\s$/,t)]}}class l extends s.g{get name(){return"code_block"}get schema(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]}}commands({type:t,schema:e}){return()=>Object(r.p)(t,e.nodes.paragraph)}keys({type:t}){return{"Shift-Ctrl-\\":Object(r.k)(t)}}inputRules({type:t}){return[Object(r.o)(/^```$/,t)]}}s.g;class p extends s.g{get name(){return"hard_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:t}){return()=>Object(r.a)(r.b,(e,n)=>(n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0))}keys({type:t}){const e=Object(r.a)(r.b,(e,n)=>(n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0));return{"Mod-Enter":e,"Shift-Enter":e}}}class f extends s.g{get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6]}}get schema(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map(t=>({tag:"h".concat(t),attrs:{level:t}})),toDOM:t=>["h".concat(t.attrs.level),0]}}commands({type:t,schema:e}){return n=>Object(r.p)(t,e.nodes.paragraph,n)}keys({type:t}){return this.options.levels.reduce((e,n)=>({...e,["Shift-Ctrl-".concat(n)]:Object(r.k)(t,{level:n})}),{})}inputRules({type:t}){return this.options.levels.map(e=>Object(r.o)(new RegExp("^(#{1,".concat(e,"})\\s$")),t,()=>({level:e})))}}class m extends s.g{get name(){return"horizontal_rule"}get schema(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]}}commands({type:t}){return()=>(e,n)=>n(e.tr.replaceSelectionWith(t.create()))}inputRules({type:t}){return[Object(r.g)(/^(?:---|___\s|\*\*\*\s)$/,t)]}}const g=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/;class y extends s.g{get name(){return"image"}get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")})}],toDOM:t=>["img",t.attrs]}}commands({type:t}){return e=>(n,s)=>{const{selection:r}=n,i=r.$cursor?r.$cursor.pos:r.$to.pos,o=t.create(e);s(n.tr.insert(i,o))}}inputRules({type:t}){return[Object(r.g)(g,t,t=>{const[,e,n,s]=t;return{src:n,alt:e,title:s}})]}get plugins(){return[new s.h({props:{handleDOMEvents:{drop(t,e){if(!(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length))return;const n=Array.from(e.dataTransfer.files).filter(t=>/image/i.test(t.type));if(0===n.length)return;e.preventDefault();const{schema:s}=t.state,r=t.posAtCoords({left:e.clientX,top:e.clientY});n.forEach(e=>{const n=new FileReader;n.onload=e=>{const n=s.nodes.image.create({src:e.target.result}),i=t.state.tr.insert(r.pos,n);t.dispatch(i)},n.readAsDataURL(e)})}}}})]}}class b extends s.g{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}keys({type:t}){return{Enter:Object(r.m)(t),Tab:Object(r.l)(t),"Shift-Tab":Object(r.d)(t)}}}s.g;class k extends s.g{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1})}],toDOM:t=>1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]}}commands({type:t,schema:e}){return()=>Object(r.q)(t,e.nodes.list_item)}keys({type:t,schema:e}){return{"Shift-Ctrl-9":Object(r.q)(t,e.nodes.list_item)}}inputRules({type:t}){return[Object(r.u)(/^(\d+)\.\s$/,t,t=>({order:+t[1]}),(t,e)=>e.childCount+e.attrs.order===+t[1])]}}var v=Object(a.o)({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM:t=>t.style.backgroundColor||null,setDOMAttr(t,e){if(t){const n={style:"".concat(e.style||"","background-color: ").concat(t,";")};Object.assign(e,n)}}}}});class O extends s.g{get name(){return"table"}get defaultOptions(){return{resizable:!1}}get schema(){return v.table}commands({schema:t}){return{createTable:({rowsCount:e,colsCount:n,withHeaderRow:s})=>(r,i)=>{const a=r.tr.selection.anchor+1,u=Object(o.a)(t,e,n,s),h=r.tr.replaceSelectionWith(u).scrollIntoView(),d=h.doc.resolve(a);h.setSelection(c.h.near(d)),i(h)},addColumnBefore:()=>a.b,addColumnAfter:()=>a.a,deleteColumn:()=>a.f,addRowBefore:()=>a.d,addRowAfter:()=>a.c,deleteRow:()=>a.g,deleteTable:()=>a.h,toggleCellMerge:()=>(t,e)=>{Object(a.k)(t,e)||Object(a.m)(t,e)},mergeCells:()=>a.k,splitCell:()=>a.m,toggleHeaderColumn:()=>a.q,toggleHeaderRow:()=>a.r,toggleHeaderCell:()=>a.p,setCellAttr:({name:t,value:e})=>Object(a.l)(t,e),fixTables:()=>a.i}}keys(){return{Tab:Object(a.j)(1),"Shift-Tab":Object(a.j)(-1)}}get plugins(){return[...this.options.resizable?[Object(a.e)()]:[],Object(a.n)()]}}class w extends s.g{get name(){return"table_header"}get schema(){return v.table_header}}class _ extends s.g{get name(){return"table_cell"}get schema(){return v.table_cell}}class x extends s.g{get name(){return"table_row"}get schema(){return v.table_row}}s.g;class A extends s.g{get name(){return"todo_list"}get schema(){return{group:"block",content:"todo_item+",toDOM:()=>["ul",{"data-type":this.name},0],parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]')}]}}commands({type:t,schema:e}){return()=>Object(r.q)(t,e.nodes.todo_item)}inputRules({type:t}){return[Object(r.u)(/^\s*(\[ \])\s$/,t)]}}class M extends s.f{get name(){return"bold"}get schema(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong",0]}}keys({type:t}){return{"Mod-b":Object(r.r)(t)}}commands({type:t}){return()=>Object(r.r)(t)}inputRules({type:t}){return[Object(r.e)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,t)]}pasteRules({type:t}){return[Object(r.f)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,t)]}}class j extends s.f{get name(){return"code"}get schema(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:()=>["code",0]}}keys({type:t}){return{"Mod-`":Object(r.r)(t)}}commands({type:t}){return()=>Object(r.r)(t)}inputRules({type:t}){return[Object(r.e)(/(?:`)([^`]+)(?:`)$/,t)]}pasteRules({type:t}){return[Object(r.f)(/(?:`)([^`]+)(?:`)/g,t)]}}class C extends s.f{get name(){return"italic"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]}}keys({type:t}){return{"Mod-i":Object(r.r)(t)}}commands({type:t}){return()=>Object(r.r)(t)}inputRules({type:t}){return[Object(r.e)(/(?:^|[^_])(_([^_]+)_)$/,t),Object(r.e)(/(?:^|[^*])(\*([^*]+)\*)$/,t)]}pasteRules({type:t}){return[Object(r.f)(/_([^_]+)_/g,t),Object(r.f)(/\*([^*]+)\*/g,t)]}}class E extends s.f{get name(){return"link"}get defaultOptions(){return{openOnClick:!0,target:null}}get schema(){return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),target:t.getAttribute("target")})}],toDOM:t=>["a",{...t.attrs,rel:"noopener noreferrer nofollow",target:t.attrs.target||this.options.target},0]}}commands({type:t}){return e=>e.href?Object(r.t)(t,e):Object(r.i)(t)}pasteRules({type:t}){return[Object(r.h)(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,()!]*)/gi,t,t=>({href:t}))]}get plugins(){return this.options.openOnClick?[new s.h({props:{handleClick:(t,e,n)=>{const{schema:s}=t.state,r=Object(o.d)(t.state,s.marks.link);r.href&&n.target instanceof HTMLAnchorElement&&(n.stopPropagation(),window.open(r.href,r.target))}}})]:[]}}class R extends s.f{get name(){return"strike"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:t=>"line-through"===t}],toDOM:()=>["s",0]}}keys({type:t}){return{"Mod-d":Object(r.r)(t)}}commands({type:t}){return()=>Object(r.r)(t)}inputRules({type:t}){return[Object(r.e)(/~([^~]+)~$/,t)]}pasteRules({type:t}){return[Object(r.f)(/~([^~]+)~/g,t)]}}class N extends s.f{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:t=>"underline"===t}],toDOM:()=>["u",0]}}keys({type:t}){return{"Mod-u":Object(r.r)(t)}}commands({type:t}){return()=>Object(r.r)(t)}}s.e;s.e;class S extends s.e{get name(){return"history"}get defaultOptions(){return{depth:"",newGroupDelay:""}}keys(){return{"Mod-z":u.d,"Mod-y":u.b,"Shift-Mod-z":u.b,"Mod-":u.d,"Shift-Mod-":u.b}}get plugins(){return[Object(u.a)({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}commands(){return{undo:()=>u.d,redo:()=>u.b,undoDepth:()=>u.e,redoDepth:()=>u.c}}}class D extends s.e{get name(){return"placeholder"}get defaultOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",emptyNodeText:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}get plugins(){return[new s.h({props:{decorations:({doc:t,plugins:e,selection:n})=>{const s=e.find(t=>t.key.startsWith("editable$")).props.editable()||!this.options.showOnlyWhenEditable,{anchor:r}=n,o=[],c=0===t.textContent.length;return!!s&&(t.descendants((t,e)=>{const n=r>=e&&r<=e+t.nodeSize,s=0===t.content.size;if((n||!this.options.showOnlyCurrent)&&s){const n=[this.options.emptyNodeClass];c&&n.push(this.options.emptyEditorClass);const s=i.a.node(e,e+t.nodeSize,{class:n.join(" "),"data-empty-text":"function"==typeof this.options.emptyNodeText?this.options.emptyNodeText(t):this.options.emptyNodeText});o.push(s)}return!1}),i.b.create(t,o))}}})]}}s.e;s.e}}]);