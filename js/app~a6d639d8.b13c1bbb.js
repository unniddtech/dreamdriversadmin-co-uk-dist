(window.webpackJsonp=window.webpackJsonp||[]).push([["app~a6d639d8"],{6278:function(t,e,a){"use strict";var s=a("1dce"),r=a("b5ae"),i=a("2f62"),n={props:["thisAreaData","editArea"],mixins:[s.validationMixin],name:"EditAreaModal",validations:{name:{required:r.required},city_id:{required:r.required},standardPayRate:{required:r.required},weekendPayRate:{required:r.required}},data:()=>({areaData:null,localLoading:!1,id:"",name:"",city_id:null,dialog:!1,standardPayRate:"",weekendPayRate:""}),created(){this.areaData=this.thisAreaData,this.id=this.areaData.id,this.name=this.areaData.name,this.city_id=+this.areaData.city_id,this.standardPayRate=this.areaData.standardPayRate,this.weekendPayRate=this.areaData.weekendPayRate},computed:{...Object(i.c)(["cities","areas"]),loading(){return this.$store.getters.loading},selectErrors(){const t=[];return this.$v.city_id.$dirty?(!this.$v.city_id.required&&t.push("City is required"),t):t},nameErrors(){const t=[];return this.$v.name.$dirty?(
/*!this.$v.name.maxLength && errors.push('Name must be at most 10 characters long')*/
!this.$v.name.required&&t.push("Area name is required."),t):t},standardPayRateErrors(){const t=[];return this.$v.standardPayRate.$dirty?(
/*!this.$v.standardPayRate.numeric && errors.push('Must be numeric')*/
!this.$v.standardPayRate.required&&t.push("Pay rate is required"),t):t},weekendPayRateErrors(){const t=[];return this.$v.weekendPayRate.$dirty?(
/*!this.$v.weekendPayRate.numeric && errors.push('Must be numeric')*/
!this.$v.weekendPayRate.required&&t.push("Pay rate is required"),t):t},citiesList(){return this.cities}},methods:{cancel(){this.dialog=!1,this.areaData=this.thisAreaData,this.name=this.areaData.name,this.city_id=this.areaData.city_id,this.standardPayRate=this.areaData.standardPayRate,this.weekendPayRate=this.areaData.weekendPayRate,this.dialog=!1},submit(){if(this.$v.$touch(),!this.$v.$invalid){const t={name:this.name,standardPayRate:this.standardPayRate,weekendPayRate:this.weekendPayRate,id:this.id,city_id:this.city_id,restaurantsAssigned:this.areaData.restaurantsAssigned};this.localLoading=!0,this.$store.dispatch("editArea",t).then(()=>{this.dialog=!1}).finally(()=>{this.localLoading=!1})}}}},o=a("2877"),l=a("6544"),d=a.n(l),c=a("c6a6"),u=a("8336"),h=a("b0af"),m=a("99d9"),v=a("62ad"),p=a("a523"),_=a("169a"),f=a("4bd4"),g=a("132d"),b=a("0fd9"),y=a("8654"),w=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"700px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"float-right",attrs:{small:"",id:"editModal",color:"primary",depressed:""}},s),[a("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),t._v("Edit Area\n        ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Edit Area")]),a("div",{staticClass:"dialog-closeBtn",on:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-close")])],1)]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"area-select",attrs:{cols:"12",sm:"12"}},[a("v-autocomplete",{attrs:{outlined:"",label:"Please Select From a City*",required:"","item-text":"city_name","item-value":"id",items:t.citiesList,"error-messages":t.selectErrors,dense:"",solo:"",clearable:""},on:{blur:function(e){return t.$v.city_id.$touch()}},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("div",[a("div",{domProps:{innerHTML:t._s(e.item.city_name)}})])]}},{key:"item",fn:function(e){return["object"!=typeof e.item?[a("div",{domProps:{textContent:t._s(e.item)}})]:t._e(),[a("div",{staticClass:"select-drop-item-city"},[a("div",{domProps:{innerHTML:t._s(e.item.city_name)}})])]]}}]),model:{value:t.city_id,callback:function(e){t.city_id=e},expression:"city_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Area Name*",hint:"enter area name",required:"","error-messages":t.nameErrors},on:{input:function(e){return t.$v.name.$touch()},blur:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"adjustment area-modal"},[a("v-text-field",{staticClass:"adjustment-input",attrs:{"clear-icon":"mdi-close",clearable:"",prefix:"£",type:"number",outlined:"",label:"Standard Pay (Per Hour)*",placeholder:"0.00",required:"","error-messages":t.standardPayRateErrors},on:{input:function(e){return t.$v.standardPayRate.$touch()},blur:function(e){return t.$v.standardPayRate.$touch()}},model:{value:t.standardPayRate,callback:function(e){t.standardPayRate=e},expression:"standardPayRate"}})],1)]),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"adjustment area-modal"},[a("v-text-field",{staticClass:"adjustment-input",attrs:{"clear-icon":"mdi-close",clearable:"",prefix:"£",type:"number",outlined:"",label:"Weekend Pay (Per Hour)*",placeholder:"0.00",required:"","error-messages":t.weekendPayRateErrors},on:{input:function(e){return t.$v.weekendPayRate.$touch()},blur:function(e){return t.$v.weekendPayRate.$touch()}},model:{value:t.weekendPayRate,callback:function(e){t.weekendPayRate=e},expression:"weekendPayRate"}})],1)])],1),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",depressed:"",disabled:this.$v.$invalid||t.localLoading,loading:t.localLoading},on:{click:t.submit}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-check-box-outline")]),t._v("Accept Changes")],1),a("v-btn",{attrs:{color:"warning",depressed:"",loading:t.localLoading},on:{click:t.cancel}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cancel")]),t._v("Cancel")],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"4b39e1c1",null);e.a=w.exports;d()(w,{VAutocomplete:c.a,VBtn:u.a,VCard:h.a,VCardText:m.b,VCardTitle:m.c,VCol:v.a,VContainer:p.a,VDialog:_.a,VForm:f.a,VIcon:g.a,VRow:b.a,VTextField:y.a})},cf6c:function(t,e,a){"use strict";var s=a("1dce"),r=a("b5ae"),i=a("2f62"),n={mixins:[s.validationMixin],name:"NewAreaModal",validations:{name:{required:r.required},city_id:{required:r.required},standardPayRate:{required:r.required},weekendPayRate:{required:r.required}},data:()=>({localLoading:!1,name:"",dialog:!1,city_id:null,areaData:null,standardPayRate:"",weekendPayRate:""}),created(){},computed:{...Object(i.c)(["cities","areas"]),loading(){return this.$store.getters.loading},selectErrors(){const t=[];return this.$v.city_id.$dirty?(!this.$v.city_id.required&&t.push("City is required"),t):t},nameErrors(){const t=[];return this.$v.name.$dirty?(
/*!this.$v.name.maxLength && errors.push('Name must be at most 10 characters long')*/
!this.$v.name.required&&t.push("Area name is required."),t):t},standardPayRateErrors(){const t=[];return this.$v.standardPayRate.$dirty?(
/*!this.$v.standardPayRate.numeric && errors.push('Must be numeric')*/
!this.$v.standardPayRate.required&&t.push("Pay rate is required"),t):t},weekendPayRateErrors(){const t=[];return this.$v.weekendPayRate.$dirty?(
/*!this.$v.weekendPayRate.numeric && errors.push('Must be numeric')*/
!this.$v.weekendPayRate.required&&t.push("Pay rate is required"),t):t},citiesList(){return this.cities}},methods:{submit(){if(this.localLoading=!0,this.$v.$touch(),!this.$v.$invalid){const t={name:this.name,standardPayRate:this.standardPayRate,weekendPayRate:this.weekendPayRate,city_id:this.city_id};this.$store.dispatch("createNewArea",t).then(()=>{this.dialog=!1,this.clear()}).finally(()=>{this.localLoading=!1})}},clear(){this.$v.$reset(),this.name="",this.weekendPayRate="",this.standardPayRate="",this.city_id=null}}},o=a("2877"),l=a("6544"),d=a.n(l),c=a("c6a6"),u=a("8336"),h=a("b0af"),m=a("99d9"),v=a("62ad"),p=a("a523"),_=a("169a"),f=a("4bd4"),g=a("132d"),b=a("0fd9"),y=a("8654"),w=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"700px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{color:"primary",depressed:""}},s),[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Add Area\n        ")],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Add an Area")]),a("div",{staticClass:"dialog-closeBtn",on:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-close")])],1)]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"area-select",attrs:{cols:"12",sm:"12"}},[a("v-autocomplete",{attrs:{outlined:"",label:"Please Select From a City*",required:"","item-text":"city_name","item-value":"id",items:t.citiesList,"error-messages":t.selectErrors,dense:"",solo:"",clearable:""},on:{blur:function(e){return t.$v.city_id.$touch()}},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("div",[a("div",{domProps:{innerHTML:t._s(e.item.city_name)}})])]}},{key:"item",fn:function(e){return["object"!=typeof e.item?[a("div",{domProps:{textContent:t._s(e.item)}})]:t._e(),[a("div",{staticClass:"select-drop-item-city"},[a("div",{domProps:{innerHTML:t._s(e.item.city_name)}})])]]}}]),model:{value:t.city_id,callback:function(e){t.city_id=e},expression:"city_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Area Name*",hint:"enter area name",required:"","error-messages":t.nameErrors},on:{input:function(e){return t.$v.name.$touch()},blur:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"adjustment area-modal"},[a("v-text-field",{staticClass:"adjustment-input",attrs:{"clear-icon":"mdi-close",clearable:"",prefix:"£",type:"number",outlined:"",label:"Standard Pay (Per Hour)*",placeholder:"0.00",required:"","error-messages":t.standardPayRateErrors},on:{input:function(e){return t.$v.standardPayRate.$touch()},blur:function(e){return t.$v.standardPayRate.$touch()}},model:{value:t.standardPayRate,callback:function(e){t.standardPayRate=e},expression:"standardPayRate"}})],1)]),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"adjustment area-modal"},[a("v-text-field",{staticClass:"adjustment-input",attrs:{"clear-icon":"mdi-close",clearable:"",prefix:"£",type:"number",outlined:"",label:"Weekend Pay (Per Hour)*",placeholder:"0.00",required:"","error-messages":t.weekendPayRateErrors},on:{input:function(e){return t.$v.weekendPayRate.$touch()},blur:function(e){return t.$v.weekendPayRate.$touch()}},model:{value:t.weekendPayRate,callback:function(e){t.weekendPayRate=e},expression:"weekendPayRate"}})],1)])],1),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{staticClass:"mr-4",attrs:{color:"primary",depressed:"",disabled:this.$v.$invalid||t.localLoading,loading:t.localLoading},on:{click:t.submit}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("Add Area")],1),a("v-btn",{attrs:{color:"warning",depressed:"",loading:t.localLoading},on:{click:t.clear}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cancel")]),t._v("Clear")],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"4baa7c79",null);e.a=w.exports;d()(w,{VAutocomplete:c.a,VBtn:u.a,VCard:h.a,VCardText:m.b,VCardTitle:m.c,VCol:v.a,VContainer:p.a,VDialog:_.a,VForm:f.a,VIcon:g.a,VRow:b.a,VTextField:y.a})},dda8:function(t,e,a){"use strict";var s=a("1dce"),r=a("b5ae"),i=a("b775"),n=a("2ef0"),o={mixins:[s.validationMixin],name:"NewLocationModal",props:["thisRestaurantData"],validations:{name:{required:r.required},email:{required:r.required,email:r.email},telephone:{required:r.required},contactName:{required:r.required},address:{required:r.required},current_password:{},meal:{},uniform:{},cash_orders:{},waiting_location:{},other:{},bonus_target:{}},data:()=>({switch_change_password:!1,showPasswordCurrent:!1,showPassword:!1,passwordRules:[t=>!!t||"Please enter your password",t=>t&&t.length>=6||"Password should be at least six symbols long"],current_password:"",password:"",restaurantData:null,localLoading:!1,dialog:!1,id:"",name:"",email:"",address:"",contactName:"",telephone:"",postcode:"",tab_edit_restaurant:void 0,meal:void 0,uniform:void 0,cash_orders:void 0,waiting_location:void 0,other:void 0,bonus_target:void 0,file:void 0,imgRules:[t=>!(t&&t.size>1e7)||"File size should be less than 10 MB!"],logo_src:void 0}),created(){},mounted(){this.restaurantData=this.thisRestaurantData,this.id=this.thisRestaurantData.id,this.name=this.thisRestaurantData.name,this.email=this.thisRestaurantData.email,this.address=this.thisRestaurantData.address,this.contactName=this.thisRestaurantData.contactName,this.telephone=this.thisRestaurantData.telephone,this.postcode=this.thisRestaurantData.postcode,this.meal=this.thisRestaurantData.meal,this.uniform=this.thisRestaurantData.uniform,this.cash_orders=this.thisRestaurantData.cash_orders,this.waiting_location=this.thisRestaurantData.waiting_location,this.other=this.thisRestaurantData.other,this.bonus_target=this.thisRestaurantData.bonus_target,this.logo_src=this.thisRestaurantData.logo_src},computed:{nameErrors(){const t=[];return this.$v.name.$dirty?(
/*!this.$v.name.maxLength && errors.push('Name must be at most 10 characters long')*/
!this.$v.name.required&&t.push("Restaurant name is required."),t):t},contactNameErrors(){const t=[];return this.$v.contactName.$dirty?(!this.$v.contactName.required&&t.push("Contact Name is required."),t):t},emailErrors(){const t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push("Must be valid e-mail"),!this.$v.email.required&&t.push("E-mail is required"),t):t},addressErrors(){const t=[];return this.$v.address.$dirty?(!this.$v.address.required&&t.push("Address is required"),t):t},telephoneErrors(){const t=[];return this.$v.telephone.$dirty?(!this.$v.telephone.required&&t.push("Telephone number is required"),t):t},currentPasswordErrors(){const t=[];return this.$v.current_password.$dirty,t},mealErrors(){const t=[];return this.$v.meal.$dirty,t},uniformErrors(){const t=[];return this.$v.uniform.$dirty,t},cash_ordersErrors(){const t=[];return this.$v.cash_orders.$dirty,t},waiting_locationErrors(){const t=[];return this.$v.waiting_location.$dirty,t},otherErrors(){const t=[];return this.$v.other.$dirty,t},bonus_targetErrors(){const t=[];return this.$v.bonus_target.$dirty,t}},methods:{onChangeFileUpload(t){this.file=t},onRemoveLogo(){this.logo_src=void 0},cancel(){this.restaurantData=this.thisRestaurantData,this.name=this.thisRestaurantData.name,this.email=this.thisRestaurantData.email,this.address=this.thisRestaurantData.address,this.contactName=this.thisRestaurantData.contactName,this.telephone=this.thisRestaurantData.telephone,this.postcode=this.thisRestaurantData.postcode,this.meal=this.thisRestaurantData.meal,this.uniform=this.thisRestaurantData.uniform,this.cash_orders=this.thisRestaurantData.cash_orders,this.waiting_location=this.thisRestaurantData.waiting_location,this.other=this.thisRestaurantData.other,this.bonus_target=this.thisRestaurantData.bonus_target,this.logo_src=this.thisRestaurantData.logo_src,this.file=void 0,this.dialog=!1},submit(){let t=JSON.parse(localStorage.getItem("user"));if(this.localLoading=!0,this.$v.$touch(),!this.$v.$invalid){let e={id:this.id,name:this.name,address:this.address,contactName:this.contactName,telephone:this.telephone,postcode:this.postcode,current_password:this.current_password,meal:this.meal,uniform:this.uniform,cash_orders:this.cash_orders,waiting_location:this.waiting_location,other:this.other,bonus_target:this.bonus_target,logo_src:this.logo_src?this.logo_src:null};this.switch_change_password&&(e.password=this.password);let a=new FormData;a.append("file",this.file),n.each(e,(t,e)=>{a.append(e,t)}),a.append("_method","PATCH"),//! put not working on FormData, -> use PATCH && post
i.a.post(`${this.appConfig.app_url}/api/restaurant/profile/${this.id}`,a,{headers:{"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+t.access_token}}).then(t=>{if(this.dialog=!1,localStorage.getItem("user")){let e=JSON.parse(localStorage.getItem("user")),a=[];n.each(e.restaurants,e=>{let s={id:e.id,area_id:e.area_id,name:e.name,address:e.address,contact_name:e.contact_name,telephone:e.telephone,map_latitude:e.map_latitude,map_longitude:e.map_longitude,meal:e.meal,uniform:e.uniform,cash_orders:e.cash_orders,waiting_location:e.waiting_location,other:e.other,bonus_target:e.bonus_target,logo_src:e.logo_src};e.id==t.data.id&&(s.area_id=t.data.area_id,s.name=t.data.name,s.address=t.data.address,s.contact_name=t.data.contact_name,s.telephone=t.data.telephone,s.map_latitude=t.data.map_latitude,s.map_longitude=t.data.map_longitude,s.meal=t.data.meal,s.uniform=t.data.uniform,s.cash_orders=t.data.cash_orders,s.waiting_location=t.data.waiting_location,s.other=t.data.other,s.bonus_target=t.data.bonus_target,s.logo_src=t.data.logo_src),a.push(s)}),e.restaurants=a,this.$store.commit("setUser",e),localStorage.setItem("user",JSON.stringify(e)),this.cancel()}}).then(()=>{this.$emit("updated",""),this.current_password="",this.password="",this.switch_change_password=!1,this.$v.$reset()}).catch(t=>{if(this.current_password="",t.response){let e=t.response;if(401==e.status&&(this.$store.dispatch("logOutUser"),window.location.reload()),400==e.status)return this.$store.dispatch("setError",n.values(e.data)[0][0]),e.data}this.$store.dispatch("setError","Unknown error")}).finally(()=>{this.localLoading=!1})}}}},l=a("2877"),d=a("6544"),c=a.n(d),u=a("8336"),h=a("b0af"),m=a("99d9"),v=a("62ad"),p=a("a523"),_=a("169a"),f=a("23a7"),g=a("4bd4"),b=a("132d"),y=a("adda"),w=a("0fd9"),$=a("b73d"),x=a("71a3"),R=a("c671"),C=a("fe57"),P=a("aac8"),k=a("8654"),D=Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"700px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"float-right primary",attrs:{small:"",id:"editModal",depressed:""}},s),[t._v("Edit Details\n        ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Edit Restaurant")]),a("div",{staticClass:"dialog-closeBtn",on:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-close")])],1)]),a("v-card-text",[a("v-container",[a("v-tabs",{staticStyle:{"margin-bottom":"16px"},attrs:{"background-color":"grey lighten-4","fixed-tabs":"","slider-color":"grey darken-1"},model:{value:t.tab_edit_restaurant,callback:function(e){t.tab_edit_restaurant=e},expression:"tab_edit_restaurant"}},[a("v-tab",[t._v("Main")]),a("v-tab",[t._v("Additional")])],1),a("v-form",{ref:"form"},[a("v-tabs-items",{model:{value:t.tab_edit_restaurant,callback:function(e){t.tab_edit_restaurant=e},expression:"tab_edit_restaurant"}},[a("v-tab-item",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Restaurant Name*",hint:"enter restaurant name",required:"","error-messages":t.nameErrors},on:{input:function(e){return t.$v.name.$touch()},blur:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Contact Name*",hint:"enter a contact name","error-messages":t.contactNameErrors,required:""},on:{input:function(e){return t.$v.contactName.$touch()},blur:function(e){return t.$v.contactName.$touch()}},model:{value:t.contactName,callback:function(e){t.contactName=e},expression:"contactName"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Address*",hint:"if manual input is required","persistent-hint":"",required:"","error-messages":t.addressErrors},on:{input:function(e){return t.$v.address.$touch()},blur:function(e){return t.$v.address.$touch()}},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Restaurant Email*",required:"","error-messages":t.emailErrors,disabled:""},on:{input:function(e){return t.$v.email.$touch()},blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Telephone Number*",type:"Telephone",required:"","error-messages":t.telephoneErrors},on:{change:function(e){return t.$v.telephone.$touch()},blur:function(e){return t.$v.telephone.$touch()}},model:{value:t.telephone,callback:function(e){t.telephone=e},expression:"telephone"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-switch",{attrs:{label:"Change Password"},model:{value:t.switch_change_password,callback:function(e){t.switch_change_password=e},expression:"switch_change_password"}})],1),t.switch_change_password?a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{"append-icon":t.showPasswordCurrent?"mdi-eye":"mdi-eye-off",type:t.showPasswordCurrent?"text":"password","clear-icon":"mdi-close",clearable:"",outlined:"",label:"Current Password","error-messages":t.currentPasswordErrors,counter:12},on:{"click:append":function(e){t.showPasswordCurrent=!t.showPasswordCurrent},change:function(e){return t.$v.current_password.$touch()},blur:function(e){return t.$v.current_password.$touch()}},model:{value:t.current_password,callback:function(e){t.current_password=e},expression:"current_password"}})],1):t._e(),t.switch_change_password?a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password","clear-icon":"mdi-close",clearable:"",outlined:"",name:"password",label:"Password",rules:t.passwordRules,counter:12},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):t._e()],1)],1),a("v-tab-item",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-file-input",{ref:"image",attrs:{rules:t.imgRules,accept:"image/png, image/jpeg, image/jpg, image/bmp",placeholder:"Upload a file","prepend-icon":"mdi-camera",label:"File"},on:{change:t.onChangeFileUpload}}),t.logo_src?a("v-img",{attrs:{"max-width":"500px","max-height":"300px",src:t.appConfig.app_url+"/images/"+t.logo_src},model:{value:t.logo_src,callback:function(e){t.logo_src=e},expression:"logo_src"}}):t._e(),t.logo_src?a("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.onRemoveLogo()}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-close")]),t._v("Remove Logo\n                                    ")],1):t._e()],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Meal",hint:"enter meal","error-messages":t.mealErrors},on:{input:function(e){return t.$v.meal.$touch()},blur:function(e){return t.$v.meal.$touch()}},model:{value:t.meal,callback:function(e){t.meal=e},expression:"meal"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Uniform",hint:"enter uniform","error-messages":t.uniformErrors,required:""},on:{input:function(e){return t.$v.uniform.$touch()},blur:function(e){return t.$v.uniform.$touch()}},model:{value:t.uniform,callback:function(e){t.uniform=e},expression:"uniform"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Cash Orders",hint:"enter cash orders","error-messages":t.cash_ordersErrors,required:""},on:{input:function(e){return t.$v.cash_orders.$touch()},blur:function(e){return t.$v.cash_orders.$touch()}},model:{value:t.cash_orders,callback:function(e){t.cash_orders=e},expression:"cash_orders"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Waiting location",hint:"enter waiting location","error-messages":t.waiting_locationErrors,required:""},on:{input:function(e){return t.$v.waiting_location.$touch()},blur:function(e){return t.$v.waiting_location.$touch()}},model:{value:t.waiting_location,callback:function(e){t.waiting_location=e},expression:"waiting_location"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Other",hint:"enter other","error-messages":t.otherErrors,required:""},on:{input:function(e){return t.$v.other.$touch()},blur:function(e){return t.$v.other.$touch()}},model:{value:t.other,callback:function(e){t.other=e},expression:"other"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Bonus Target",hint:"enter Bonus Target","error-messages":t.bonus_targetErrors,required:""},on:{input:function(e){return t.$v.bonus_target.$touch()},blur:function(e){return t.$v.bonus_target.$touch()}},model:{value:t.bonus_target,callback:function(e){t.bonus_target=e},expression:"bonus_target"}})],1)],1)],1)],1),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{staticClass:"mr-4 primary",attrs:{depressed:"",disabled:this.$v.$invalid||t.localLoading,loading:t.localLoading},on:{click:t.submit}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-check-box-outline")]),t._v("\n                            Accept Changes\n                        ")],1),a("v-btn",{staticClass:"warning",attrs:{depressed:"",loading:t.localLoading},on:{click:t.cancel}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cancel")]),t._v("\n                            Cancel\n                        ")],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"649518de",null);e.a=D.exports;c()(D,{VBtn:u.a,VCard:h.a,VCardText:m.b,VCardTitle:m.c,VCol:v.a,VContainer:p.a,VDialog:_.a,VFileInput:f.a,VForm:g.a,VIcon:b.a,VImg:y.a,VRow:w.a,VSwitch:$.a,VTab:x.a,VTabItem:R.a,VTabs:C.a,VTabsItems:P.a,VTextField:k.a})},edde:function(t,e,a){"use strict";var s=a("2f62"),r=a("2ef0"),i=a("156f"),n={name:"Areas",data:()=>({areaSelected:null,areaData:null,localLoading:!1,page:1,per_page:1,per_page_list:[1,5,10,100,1e3]}),created(){this.$store.dispatch("fetchLocations"),this.$store.dispatch("fetchCities"),this.$store.dispatch("fetchDrivers")},watch:{searchData(){this.onChangePage(1)}},computed:{...Object(s.c)(["user","cities","error","isUserLoggedIn","loading","areas","restaurants","drivers"]),areasList(){return r.map(this.areas,t=>(t.restaurants=r.filter(this.restaurants,e=>t.id==e.area_id&&e.status===i.a),t))},areasListPaged(){let t=this.per_page*(this.page-1),e=t+this.per_page;return this.areasList.slice(t,e)},total_pages(){return Math.ceil(this.areasList.length/this.per_page)}},methods:{editArea(t){console.log("method not call any time!"),Object.keys(this.areas).forEach(e=>{this.areas[e].id===t.id&&(this.areas[e].name=t.name,this.areas[e].standardPayRate=t.standardPayRate,this.areas[e].weekendPayRate=t.weekendPayRate,this.areaData=this.areas[e],this.areaSelected=this.areas[e].id)}),this.areasList=[],Object.keys(this.areas).forEach(t=>{this.areasList.push(this.areas[t].name)})},clearArea(){this.areaSelected=null,this.areaData=null},filterRestaurantsByArea(t){this.localLoading=!0,this.areaSelected=null,this.areaData=null,Object.keys(this.areas).forEach(e=>{this.areas[e].id===t&&(this.areaData=this.areas[e])}),this.localLoading=!1},deleteArea(t){confirm("Remove area "+t.name+"?")&&this.$store.dispatch("removeArea",t).then(()=>{}).catch(t=>{t&&t.response&&t.response.data&&t.response.data.id&&alert(t.response.data.id[0])}).finally(()=>{this.localLoading=!1})},deleteRestaurant(t){confirm("Remove restaurant "+t.name+"?")&&(this.localLoading=!0,this.$store.dispatch("deleteRestaurant",t).then(()=>{}).catch(t=>{t&&t.response&&t.response.data&&t.response.data.id&&alert(t.response.data.id[0])}).finally(()=>{this.localLoading=!1}))},onChangePage(t){this.page=t},goToSchedule(t){localStorage.setItem("redirrected_from_restaurants",t),window.location="schedule"},getCityLabelById(t){let e=r.find(this.cities,e=>+e.id==+t);return e?e.city_name:t},onCangePerPage(){this.page=1}},filters:{formatFloat:function(t){return Number(t).toFixed(2)}}},o=a("2877"),l=a("6544"),d=a.n(l),c=a("8336"),u=a("a609"),h=a("62ad"),m=a("a523"),v=a("0e8f"),p=a("132d"),_=a("8860"),f=a("da13"),g=a("5d23"),b=a("e449"),y=a("891e"),w=a("0fd9"),$=a("b974"),x=a("1f4f"),R=a("2fa4"),C=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",[a("v-flex",[a("v-row",[a("h1",{staticClass:"page-title"},[t._v("Areas")]),a("v-spacer",{staticClass:"line"}),a("hr"),a("new-area-modal")],1)],1),a("v-flex",{staticClass:"area-select",attrs:{sm:"6"}},[a("v-row",[a("v-select",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Select an Area",required:"","item-text":"name","item-value":"id",items:t.areasList},on:{"click:clear":t.clearArea,change:t.filterRestaurantsByArea},model:{value:t.areaSelected,callback:function(e){t.areaSelected=e},expression:"areaSelected"}})],1)],1),null===t.areaData?a("div",[t._l(t.areasListPaged,(function(e){return a("div",{key:e.id,staticClass:"areas-restaurants-table"},[a("v-simple-table",[a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{width:"17%"}},[t._v("City")]),a("th",{staticClass:"text-left",attrs:{width:"17%"}},[t._v("Area")]),a("th",{staticClass:"text-left"},[t._v("Standard Pay (per hour)")]),a("th",{staticClass:"text-left"},[t._v("Weekend Pay (per hour)")]),a("th",{staticClass:"text-left"})])]),a("tbody",[a("tr",[a("td",[t._v(t._s(t.getCityLabelById(e.city_id)))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v("£"+t._s(t._f("formatFloat")(e.standardPayRate)))]),a("td",[t._v("£"+t._s(t._f("formatFloat")(e.weekendPayRate)))]),a("td",[a("edit-area-modal",{attrs:{thisAreaData:e}}),a("v-btn",{staticClass:"float-right",attrs:{small:"",color:"warning",depressed:""},on:{click:function(a){return t.deleteArea(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),t._v("\n                            Delete\n                        ")],1)],1)])])]),a("v-container",{staticClass:"inner-table text-right"},[e.restaurants?a("h3",{staticClass:"text-left"},[t._v("Restaurants")]):t._e(),e.restaurants?a("v-simple-table",{staticClass:"mb-3 text-left"},[e.restaurants?a("thead",[a("tr",[a("th",{staticClass:"text-left",attrs:{width:"25%"}},[t._v("Name")]),a("th",{staticClass:"text-left"},[t._v("Address")]),a("th",{staticClass:"text-right"})])]):t._e(),a("tbody",t._l(e.restaurants,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),a("td",[a("restaurant-address-modal",{attrs:{thisRestaurantId:e.id}})],1),a("td",{staticClass:"text-right"},[a("v-btn-toggle",{staticClass:"edit-button-group"},[a("edit-restaurant-modal",{attrs:{thisRestaurantData:e}}),[a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"primary dropdown-menu-activator",attrs:{tile:"",small:"",depressed:""}},s),[a("v-icon",[t._v("mdi-menu-down")])],1)]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(a){return t.deleteRestaurant(e)}}},[a("v-list-item-title",[t._v("Delete")])],1),a("v-list-item",{attrs:{restaurantId:e.id},on:{click:function(a){return t.goToSchedule(e.id)}}},[a("v-list-item-title",[t._v("Schedule")])],1),a("drivers-list-modal",{attrs:{restaurantId:e.id}}),a("new-post-modal",{attrs:{restaurantId:e.id}})],1)],1)],1)]],2)],1)])})),0)]):a("div",{staticClass:"text-left"},[a("span",[t._v("No restaurants found in this area")])]),a("new-restaurant-modal",{attrs:{thisAreaData:e,small:""}})],1)],1)})),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[a("v-flex",{staticClass:"d-flex flex-row"},[a("div",{staticClass:"pt-2",staticStyle:{"min-width":"75px"}},[t._v("\n                          Per page:\n                      ")]),a("v-select",{attrs:{items:t.per_page_list,label:"Solo field",solo:"",dense:"","hide-details":"",disabled:""},on:{change:t.onCangePerPage},model:{value:t.per_page,callback:function(e){t.per_page=e},expression:"per_page"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-pagination",{attrs:{value:t.page,length:t.total_pages,"total-visible":14},on:{input:t.onChangePage}})],1),a("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[t._v("\n                  "+t._s((t.page-1)*t.per_page+1)+" - "+t._s(t.page*t.per_page<t.areasList.length?t.page*t.per_page:t.areasList.length)+" of "+t._s(t.areasList.length)+"\n              ")])],1)],2):t._e(),null!==t.areaData?a("div",{staticClass:"areas-restaurants-table"},[a("v-simple-table",[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("City")]),a("th",{staticClass:"text-left"},[t._v("Area")]),a("th",{staticClass:"text-left"},[t._v("Standard Pay (per hour)")]),a("th",{staticClass:"text-left"},[t._v("Weekend Pay (per hour)")]),a("th",{staticClass:"text-left"})])]),a("tbody",[a("tr",[a("td",[t._v(t._s(t.getCityLabelById(t.areaData.city_id)))]),a("td",[t._v(t._s(t.areaData.name))]),a("td",[t._v("£"+t._s(t._f("formatFloat")(t.areaData.standardPayRate)))]),a("td",[t._v("£"+t._s(t._f("formatFloat")(t.areaData.weekendPayRate)))]),a("td",[a("edit-area-modal",{attrs:{thisAreaData:t.areaData}}),a("v-btn",{staticClass:"float-right",attrs:{small:"",color:"warning",depressed:""},on:{click:function(e){return t.deleteArea(t.areaData)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),t._v("\n                            Delete\n                        ")],1)],1)])])]),a("v-container",{staticClass:"text-right"},[0!==t.areaData.restaurants.length?a("h3",{staticClass:"text-left"},[t._v("\n                    Restaurants")]):t._e(),0===t.areaData.restaurants.length?a("div",{staticClass:"text-left"},[a("span",[t._v("No restaurants found in this area")])]):t._e(),a("v-simple-table",{staticClass:"mb-3"},[0!==t.areaData.restaurants.length?a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Name")]),a("th",{staticClass:"text-left"},[t._v("Address")]),a("th",{staticClass:"text-right"})])]):t._e(),a("tbody",t._l(t.areaData.restaurants,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),a("td",{staticClass:"text-left"},[t._v(t._s(e.address))]),a("td",[a("v-btn-toggle",{staticClass:"edit-button-group"},[a("edit-restaurant-modal",{attrs:{thisRestaurantData:e}}),[a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"primary dropdown-menu-activator",attrs:{tile:"",small:"",depressed:""}},s),[a("v-icon",[t._v("mdi-menu-down")])],1)]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(a){return t.deleteRestaurant(e)}}},[a("v-list-item-title",[t._v("Delete")])],1),a("v-list-item",{attrs:{restaurantId:e.id},on:{click:function(a){return t.goToSchedule(e.id)}}},[a("v-list-item-title",[t._v("Schedule")])],1),a("drivers-list-modal",{attrs:{restaurantId:e.id}}),a("new-post-modal",{attrs:{restaurantId:e.id}})],1)],1)],1)]],2)],1)])})),0)]),a("new-restaurant-modal",{attrs:{thisAreaData:t.areaData}})],1)],1):t._e()],1)])}),[],!1,null,"0963a36e",null);e.a=C.exports;d()(C,{VBtn:c.a,VBtnToggle:u.a,VCol:h.a,VContainer:m.a,VFlex:v.a,VIcon:p.a,VList:_.a,VListItem:f.a,VListItemTitle:g.c,VMenu:b.a,VPagination:y.a,VRow:w.a,VSelect:$.a,VSimpleTable:x.a,VSpacer:R.a})}}]);