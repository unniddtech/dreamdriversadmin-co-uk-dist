(window.webpackJsonp=window.webpackJsonp||[]).push([["app~d79e90d7"],{5611:function(e,t,a){"use strict";var r=a("1dce"),s=a("b5ae"),i=a("2f62"),o=a("2ef0"),n=a("c1df"),l=a.n(n),c=a("f6b6");const d=["image/png","image/jpeg"],_=/(.*?)\.(jpg|jpeg|png)$/;var h={mixins:[r.validationMixin],name:"NewLocationModal",props:["thisAreaData"],validations:{firstName:{required:s.required},email:{required:s.required,email:s.email},lastName:{},date_of_birth:{},car_insurance_renewal_date:{},area_ids:{},restaurant_ids:{}},data:()=>({switch_change_password:!1,showPassword:!1,passwordRules:[e=>!!e||"Please enter your password",e=>e&&e.length>=6||"Password should be at least six symbols long"],readOnly:!1,localLoading:!1,dialog:!1,firstName:"",lastName:"",email:"",date_of_birth:"",car_make:"",car_model:"",car_registration:"",car_insurance_renewal_date:"",car_insurer:"",have_experience:20,experience_description:"",address_1:"",address_2:"",emergency_contact_name:"",emergency_contact_phone:"",bank_name_of_account_holder:"",bank_sort_code:"",bank_account_number:"",phone:"",city:"",postcode:"",password:"",driver_license_front_photo:void 0,driver_license_back_photo:void 0,identity_photo:void 0,photo_src:void 0,new_right_to_work_photos_uid_iterator:-1,right_to_work_photos:[],area_ids:[],restaurant_ids:[],tab_edit_restaurant:void 0,date_of_birth_selected:void 0,date_of_birth_picker:!1,car_insurance_renewal_date_selected:void 0,car_insurance_renewal_date_picker:!1,EXPERIANCE_YES:10,EXPERIANCE_NO:20,driver_license_front_src_photo:void 0,driver_license_back_src_photo:void 0,identity_src_photo:void 0,image_data:void 0,driver_license_front_photo_file:void 0,driver_license_back_photo_file:void 0,identity_photo_file:void 0,photo_src_file:void 0,imgRules:[e=>!(e&&e.size>1e7)||"File size should be less than 10 MB!"],response_errors:[]}),created(){},updated(){this.thisAreaData&&(this.area_ids=[+this.thisAreaData.id],this.readOnly=!0)},watch:{date_of_birth:function(e,t){t!=e&&/\d\d\/\d\d\/\d\d\d\d/.test(e)&&(this.$data.date_of_birth_selected=l()(e,"DD/MM/YYYY").format("YYYY-MM-DD"))},car_insurance_renewal_date:function(e,t){t!=e&&/\d\d\/\d\d\/\d\d\d\d/.test(e)&&(this.$data.car_insurance_renewal_date_selected=l()(e,"DD/MM/YYYY").format("YYYY-MM-DD"))}},computed:{...Object(i.c)(["areas","restaurants"]),imagesBaseUrl(){return this.appConfig.app_url+"/images"},selectAreaErrors(){const e=[];return this.$v.area_ids.$dirty,e},selectRestaurantErrors(){const e=[];return this.$v.restaurant_ids.$dirty,e},firstNameErrors(){const e=[];return this.$v.firstName.$dirty?(
/*!this.$v.name.maxLength && errors.push('Name must be at most 10 characters long')*/
!this.$v.firstName.required&&e.push("First name is required."),e):e},lastNameErrors(){const e=[];return this.$v.lastName.$dirty,e},emailErrors(){const e=[];if(!this.$v.email.$dirty)return e;!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required");let t=o.get(this.response_errors,"email",[]);return o.each(t,t=>e.push(t)),e},dateOfBirthErrors(){const e=[];return this.$v.date_of_birth.$dirty?(this.$data.date_of_birth&&!l()(this.$data.date_of_birth,"DD/MM/YYYY").isValid()&&e.push("Date invalid format."),e):e},carInsuranceRenewalDateErrors(){const e=[];return this.$v.car_insurance_renewal_date.$dirty?(this.$data.car_insurance_renewal_date&&!l()(this.$data.car_insurance_renewal_date,"DD/MM/YYYY").isValid()&&e.push("Date invalid format."),e):e},areasList(){return this.areas},restaurantsList(){return 0==this.area_ids.length?[]:o.filter(this.restaurants,e=>-1!==this.area_ids.indexOf(+e.area_id))}},methods:{onChangeArea(){let e=o.map(this.restaurantsList,e=>e.id);this.restaurant_ids=o.intersection(e,this.restaurant_ids)},onChangeRestaurant(){},onRemoveRightToWorkPhoto(e){this.right_to_work_photos.splice(e,1)},submit(){if(this.localLoading=!0,this.dialog=!0,this.$v.$touch(),!this.$v.$invalid){const e={first_name:this.firstName,last_name:this.lastName,email:this.email,address_1:this.address_1,address_2:this.address_2,postcode:this.postcode,city:this.city,phone:this.phone,date_of_birth:this.date_of_birth?l()(this.date_of_birth,"DD/MM/YYYY").format("YYYY-MM-DD"):void 0,emergency_contact_name:this.emergency_contact_name,emergency_contact_phone:this.emergency_contact_phone,car_make:this.car_make,car_model:this.car_model,car_registration:this.car_registration,car_insurance_renewal_date:this.car_insurance_renewal_date?l()(this.car_insurance_renewal_date,"DD/MM/YYYY").format("YYYY-MM-DD"):void 0,car_insurer:this.car_insurer,have_experience:this.have_experience,experience_description:this.experience_description,bank_name_of_account_holder:this.bank_name_of_account_holder,bank_sort_code:this.bank_sort_code,bank_account_number:this.bank_account_number,area_ids:this.area_ids,restaurant_ids:this.restaurant_ids,right_to_work_photos:[]};this.switch_change_password&&(e.password=this.password),this.driver_license_front_src_photo&&(e.driver_license_front_src_photo=this.driver_license_front_src_photo),this.driver_license_back_src_photo&&(e.driver_license_back_src_photo=this.driver_license_back_src_photo),this.identity_src_photo&&(e.identity_src_photo=this.identity_src_photo),this.image_data&&(e.image_data=this.image_data),o.each(this.right_to_work_photos,t=>{t.file_src&&e.right_to_work_photos.push({src_name:t.src_name,file_src:t.file_src})}),this.$store.dispatch("createNewDriver",{payload:e,params:{halfBoard:!1}}).then(e=>{this.dialog=!1,this.clear()}).catch(e=>{this.response_errors=e}).finally(()=>{this.localLoading=!1})}},clear(){this.$v.$reset(),this.firstName=void 0,this.lastName=void 0,this.email=void 0,this.date_of_birth=void 0,this.car_make=void 0,this.car_model=void 0,this.car_registration=void 0,this.car_insurance_renewal_date=void 0,this.car_insurer=void 0,this.have_experience=20,this.experience_description=void 0,this.address_1=void 0,this.address_2=void 0,this.emergency_contact_name=void 0,this.emergency_contact_phone=void 0,this.bank_name_of_account_holder=void 0,this.bank_sort_code=void 0,this.bank_account_number=void 0,this.phone=void 0,this.city=void 0,this.postcode=void 0,this.status=void 0,this.driver_license_front_photo=void 0,this.driver_license_back_photo=void 0,this.identity_photo=void 0,this.photo_src=void 0,this.right_to_work_photos=[],this.area_ids=[],this.restaurant_ids=[]},dateOfBirthSelect:function(){this.$data.date_of_birth=l()(this.$data.date_of_birth_selected,"YYYY-MM-DD").format("DD/MM/YYYY"),this.$data.date_of_birth_picker=!1},getDateOfBirthText:function(e){return l()(e,"YYYY-MM-DD").format("DD/MM/YYYY")},carInsuranceRenewalDateSelect:function(){this.$data.car_insurance_renewal_date=l()(this.$data.car_insurance_renewal_date_selected,"YYYY-MM-DD").format("DD/MM/YYYY"),this.$data.car_insurance_renewal_date_picker=!1},getCarInsuranceRenewalDateText:function(e){return l()(e,"YYYY-MM-DD").format("DD/MM/YYYY")},onAddDriverLicenseFrontPhoto(){this.$refs.driver_license_front_photo.click()},onRemoveDriverLicenseFrontPhoto(){this.driver_license_front_photo=void 0,this.driver_license_front_src_photo=void 0},onChangDriverLicenseFrontPhoto(){0!=this.$refs.driver_license_front_photo.files.length&&"undefined"!=typeof FileReader&&(o.each(this.$refs.driver_license_front_photo.files,e=>{this.processFilePreview(e,(e,t)=>{this.driver_license_front_photo=t,this.driver_license_front_src_photo=t})}),this.$refs.driver_license_front_photo.value=null)},onAddDriverLicenseBackPhoto(){this.$refs.driver_license_back_photo.click()},onRemoveDriverLicenseBackPhoto(){this.driver_license_back_photo=void 0,this.driver_license_back_src_photo=void 0},onChangDriverLicenseBackPhoto(){0!=this.$refs.driver_license_back_photo.files.length&&"undefined"!=typeof FileReader&&(o.each(this.$refs.driver_license_back_photo.files,e=>{this.processFilePreview(e,(e,t)=>{this.driver_license_back_photo=t,this.driver_license_back_src_photo=t})}),this.$refs.driver_license_back_photo.value=null)},onAddIdentityPhoto(){this.$refs.identity_photo.click()},onRemoveIdentityPhoto(){this.identity_photo=void 0,this.identity_src_photo=void 0},onChangIdentityPhoto(){0!=this.$refs.identity_photo.files.length&&"undefined"!=typeof FileReader&&(o.each(this.$refs.identity_photo.files,e=>{this.processFilePreview(e,(e,t)=>{this.identity_photo=t,this.identity_src_photo=t})}),this.$refs.identity_photo.value=null)},onAddPhotoSrc(){this.$refs.photo_src.click()},onRemovePhotoSrc(){this.photo_src=void 0,this.image_data=void 0},onChangPhotoSrc(){0!=this.$refs.photo_src.files.length&&"undefined"!=typeof FileReader&&(o.each(this.$refs.photo_src.files,e=>{this.processFilePreview(e,(e,t)=>{this.photo_src=t,this.image_data=t})}),this.$refs.photo_src.value=null)},onAddRightToWorkPhotos(){this.$refs.right_to_work_photo.click()},onRemoveRightToWorkPhoto(e){this.right_to_work_photos.splice(e,1)},onChangRightToWorkPhoto(){0!=this.$refs.right_to_work_photo.files.length&&"undefined"!=typeof FileReader&&(o.each(this.$refs.right_to_work_photo.files,e=>{this.processFilePreview(e,(e,t)=>{this.right_to_work_photos.push({id:this.new_right_to_work_photos_uid_iterator--,src_name:e,file_name:t,file_src:t})})}),this.$refs.right_to_work_photo.value=null)},processFilePreview(e,t){if(!e||"undefined"==typeof FileReader)return;if(!_.test(e.name.toLowerCase())||-1==d.indexOf(e.type))return void this.$store.dispatch("setError",{text:"Unsupported file type",type:"error",code:402});let a=new FileReader;a.onload=function(a){if(-1!==d.indexOf(e.type)||_.test(e.name.toLowerCase())){let r=new Image;r.src=a.target.result,r.onload=function(){r=c.a.compressImage(r,90,1920),t(e.name.toLowerCase(),r.src)}}else t(e.name.toLowerCase(),a.target.result)},a.readAsDataURL(e)},getPhotoPath:function(e){return e&&0===e.indexOf("data:image/")?e:this.imagesBaseUrl+"/"+e}}},m=a("2877"),u=a("6544"),v=a.n(u),p=a("e4e5"),f=a("8336"),b=a("b0af"),g=a("99d9"),k=a("62ad"),y=a("a523"),x=a("2e4b"),$=a("169a"),w=a("4bd4"),D=a("132d"),N=a("adda"),P=a("da13"),C=a("5d23"),Y=a("e449"),E=a("0fd9"),R=a("b974"),L=a("b73d"),A=a("71a3"),M=a("c671"),V=a("fe57"),q=a("aac8"),F=a("8654"),B=Object(m.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list-item",{on:{click:function(t){t.stopPropagation(),e.dialog=!0}}},[a("v-list-item-title",[e._v("Add Drivers Manually")])],1),a("v-dialog",{attrs:{width:"fit-content"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Drivers Manual Register")]),a("div",{staticClass:"dialog-closeBtn",on:{click:function(t){e.dialog=!1}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")])],1)]),a("v-card-text",[a("v-container",[a("v-tabs",{staticStyle:{"margin-bottom":"16px"},attrs:{"background-color":"grey lighten-4","fixed-tabs":"","slider-color":"grey darken-1"},model:{value:e.tab_edit_restaurant,callback:function(t){e.tab_edit_restaurant=t},expression:"tab_edit_restaurant"}},[a("v-tab",[e._v("Main")]),a("v-tab",[e._v("Identity")])],1),a("v-form",{ref:"form"},[a("v-tabs-items",{model:{value:e.tab_edit_restaurant,callback:function(t){e.tab_edit_restaurant=t},expression:"tab_edit_restaurant"}},[a("v-tab-item",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"First Name*",hint:"enter first name",required:"","error-messages":e.firstNameErrors},on:{input:function(t){return e.$v.firstName.$touch()},blur:function(t){return e.$v.firstName.$touch()}},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Last Name",hint:"enter a last name","error-messages":e.lastNameErrors,required:""},on:{input:function(t){return e.$v.lastName.$touch()},blur:function(t){return e.$v.lastName.$touch()}},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Driver Email*",required:"","error-messages":e.emailErrors},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{attrs:{transition:"scale-transition","close-on-content-click":!1,"nudge-width":200,"max-width":"346px","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{"clear-icon":"mdi-close","prepend-icon":"mdi-calendar",clearable:"",outlined:"",label:"Date of birth",hint:"22/11/1990","persistent-hint":"",required:"","error-messages":e.dateOfBirthErrors,autocomplete:"off"},on:{input:function(t){return e.$v.date_of_birth.$touch()},blur:function(t){return e.$v.date_of_birth.$touch()}},model:{value:e.date_of_birth,callback:function(t){e.date_of_birth=t},expression:"date_of_birth"}},r))]}}]),model:{value:e.date_of_birth_picker,callback:function(t){e.date_of_birth_picker=t},expression:"date_of_birth_picker"}},[a("v-card",{attrs:{"max-width":"346px"}},[a("v-date-picker",{attrs:{scrollable:"",actions:"","full-width":"","first-day-of-week":"1","title-date-format":e.getDateOfBirthText},on:{"click:date":e.dateOfBirthSelect},model:{value:e.date_of_birth_selected,callback:function(t){e.date_of_birth_selected=t},expression:"date_of_birth_selected"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Address_1","persistent-hint":""},model:{value:e.address_1,callback:function(t){e.address_1=t},expression:"address_1"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Address_2","persistent-hint":""},model:{value:e.address_2,callback:function(t){e.address_2=t},expression:"address_2"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"City",hint:"Enter city"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Postcode",hint:"Enter postcode"},model:{value:e.postcode,callback:function(t){e.postcode=t},expression:"postcode"}})],1),a("v-col",{attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"phone Number",type:"phone"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}}),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Emergency contact name","persistent-hint":""},model:{value:e.emergency_contact_name,callback:function(t){e.emergency_contact_name=t},expression:"emergency_contact_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Emergency contact phone","persistent-hint":""},model:{value:e.emergency_contact_phone,callback:function(t){e.emergency_contact_phone=t},expression:"emergency_contact_phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Car Make","persistent-hint":""},model:{value:e.car_make,callback:function(t){e.car_make=t},expression:"car_make"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Car Model","persistent-hint":""},model:{value:e.car_model,callback:function(t){e.car_model=t},expression:"car_model"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Car Registration","persistent-hint":""},model:{value:e.car_registration,callback:function(t){e.car_registration=t},expression:"car_registration"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Car Insurer","persistent-hint":""},model:{value:e.car_insurer,callback:function(t){e.car_insurer=t},expression:"car_insurer"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{attrs:{transition:"scale-transition","close-on-content-click":!1,"nudge-width":200,"max-width":"346px","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{"clear-icon":"mdi-close","prepend-icon":"mdi-calendar",clearable:"",outlined:"",label:"Car Insurance Renewal Date",hint:"22/11/2019","persistent-hint":"",required:"","error-messages":e.carInsuranceRenewalDateErrors,autocomplete:"off"},on:{input:function(t){return e.$v.car_insurance_renewal_date.$touch()},blur:function(t){return e.$v.car_insurance_renewal_date.$touch()}},model:{value:e.car_insurance_renewal_date,callback:function(t){e.car_insurance_renewal_date=t},expression:"car_insurance_renewal_date"}},r))]}}]),model:{value:e.car_insurance_renewal_date_picker,callback:function(t){e.car_insurance_renewal_date_picker=t},expression:"car_insurance_renewal_date_picker"}},[a("v-card",{attrs:{"max-width":"346px"}},[a("v-date-picker",{attrs:{scrollable:"",actions:"","full-width":"","first-day-of-week":"1","title-date-format":e.getCarInsuranceRenewalDateText},on:{"click:date":e.carInsuranceRenewalDateSelect},model:{value:e.car_insurance_renewal_date_selected,callback:function(t){e.car_insurance_renewal_date_selected=t},expression:"car_insurance_renewal_date_selected"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}}),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-switch",{attrs:{"false-value":e.EXPERIANCE_NO,"true-value":e.EXPERIANCE_YES,label:"Have experience"},model:{value:e.have_experience,callback:function(t){e.have_experience=t},expression:"have_experience"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Experience description","persistent-hint":""},model:{value:e.experience_description,callback:function(t){e.experience_description=t},expression:"experience_description"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Bank Name of Account Holder","persistent-hint":""},model:{value:e.bank_name_of_account_holder,callback:function(t){e.bank_name_of_account_holder=t},expression:"bank_name_of_account_holder"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Bank sort code","persistent-hint":""},model:{value:e.bank_sort_code,callback:function(t){e.bank_sort_code=t},expression:"bank_sort_code"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Bank account number","persistent-hint":""},model:{value:e.bank_account_number,callback:function(t){e.bank_account_number=t},expression:"bank_account_number"}})],1),a("v-col",{staticClass:"area-select",attrs:{cols:"12",sm:"12"}},[a("v-select",{attrs:{outlined:"",label:"Areas Assigned to*",multiple:"",chips:"","deletable-chips":"",hint:"leave blank not to assign driver to any areas","persistent-hint":"",items:e.areasList,"item-text":"name","item-value":"id","error-messages":e.selectAreaErrors},on:{change:e.onChangeArea,blur:function(t){return e.$v.area_ids.$touch()}},model:{value:e.area_ids,callback:function(t){e.area_ids=t},expression:"area_ids"}})],1),a("v-col",{staticClass:"drivers_resturants-select",attrs:{cols:"12",sm:"12"}},[a("v-select",{attrs:{outlined:"",label:"Area's Restaurants Assigned to",multiple:"",chips:"","deletable-chips":"",hint:"if leave blank driver to be assigned to all Area's restaurants","persistent-hint":"",items:e.restaurantsList,"item-text":"name","item-value":"id",disabled:0==e.area_ids.length,"error-messages":e.selectRestaurantErrors},on:{change:e.onChangeRestaurant,blur:function(t){return e.$v.restaurant_ids.$touch()}},model:{value:e.restaurant_ids,callback:function(t){e.restaurant_ids=t},expression:"restaurant_ids"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-switch",{attrs:{label:"Change Password"},model:{value:e.switch_change_password,callback:function(t){e.switch_change_password=t},expression:"switch_change_password"}})],1),e.switch_change_password?a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password","clear-icon":"mdi-close",clearable:"",outlined:"",name:"password",label:"Password",rules:e.passwordRules,counter:12},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):e._e()],1)],1),a("v-tab-item",[a("v-row",{staticStyle:{"align-items":"start"}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("b",[e._v("License Front Photo")]),a("hr"),a("input",{ref:"driver_license_front_photo",staticStyle:{display:"none"},attrs:{type:"file",name:"driver_license_front_photo",id:"driver_license_front_photo",accept:"image/*"},on:{change:e.onChangDriverLicenseFrontPhoto}}),a("v-btn",{attrs:{color:"primary",text:"",small:""},on:{click:e.onAddDriverLicenseFrontPhoto}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-attachment")]),e._v("Choose License Front Photo\n                                ")],1),a("v-row",[e.driver_license_front_photo?a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("a",{attrs:{href:e.getPhotoPath(e.driver_license_front_photo),target:"_blank"}},[a("v-img",{attrs:{src:e.getPhotoPath(e.driver_license_front_photo)}})],1),e.driver_license_front_photo?a("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.onRemoveDriverLicenseFrontPhoto()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")]),e._v("Remove Photo\n                                        ")],1):e._e()],1):e._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("b",[e._v("License Back Photo")]),a("hr"),a("input",{ref:"driver_license_back_photo",staticStyle:{display:"none"},attrs:{type:"file",name:"driver_license_back_photo",id:"driver_license_back_photo",accept:"image/*"},on:{change:e.onChangDriverLicenseBackPhoto}}),a("v-btn",{attrs:{color:"primary",text:"",small:""},on:{click:e.onAddDriverLicenseBackPhoto}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-attachment")]),e._v("Choose License Back Photo\n                                ")],1),a("v-row",[e.driver_license_back_photo?a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("a",{attrs:{href:e.getPhotoPath(e.driver_license_back_photo),target:"_blank"}},[a("v-img",{attrs:{src:e.getPhotoPath(e.driver_license_back_photo)}})],1),e.driver_license_back_photo?a("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.onRemoveDriverLicenseBackPhoto()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")]),e._v("Remove Photo\n                                        ")],1):e._e()],1):e._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("b",[e._v("Identity Photo")]),a("hr"),a("input",{ref:"identity_photo",staticStyle:{display:"none"},attrs:{type:"file",name:"identity_photo",id:"identity_photo",accept:"image/*"},on:{change:e.onChangIdentityPhoto}}),a("v-btn",{attrs:{color:"primary",right:"",text:"",small:""},on:{click:e.onAddIdentityPhoto}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-attachment")]),e._v("Choose Identity Photo\n                                ")],1),a("v-row",[e.identity_photo?a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("a",{attrs:{href:e.getPhotoPath(e.identity_photo),target:"_blank"}},[a("v-img",{attrs:{src:e.getPhotoPath(e.identity_photo)}})],1),e.identity_photo?a("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.onRemoveIdentityPhoto()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")]),e._v("Remove Photo\n                                        ")],1):e._e()],1):e._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("b",[e._v("Profile Photo")]),a("hr"),a("input",{ref:"photo_src",staticStyle:{display:"none"},attrs:{type:"file",name:"photo_src",id:"photo_src",accept:"image/*"},on:{change:e.onChangPhotoSrc}}),a("v-btn",{attrs:{color:"primary",right:"",text:"",small:""},on:{click:e.onAddPhotoSrc}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-attachment")]),e._v("Choose Profile Photo\n                                ")],1),a("v-row",[e.photo_src?a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("a",{attrs:{href:e.getPhotoPath(e.photo_src),target:"_blank"}},[a("v-img",{attrs:{src:e.getPhotoPath(e.photo_src)}})],1),e.photo_src?a("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.onRemovePhotoSrc()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")]),e._v("Remove Photo\n                                        ")],1):e._e()],1):e._e()],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-banner",{attrs:{"single-line":""},scopedSlots:e._u([{key:"actions",fn:function(){return[a("input",{ref:"right_to_work_photo",staticStyle:{display:"none"},attrs:{type:"file",name:"right_to_work_photo",id:"right_to_work_photo",accept:"image/*",multiple:""},on:{change:e.onChangRightToWorkPhoto}}),a("v-btn",{attrs:{color:"primary",right:"",text:"",small:""},on:{click:e.onAddRightToWorkPhotos}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),e._v("Add Right To Work Photos\n                                        ")],1)]},proxy:!0}])},[a("b",[e._v("Right to work photos")])]),a("v-row",e._l(e.right_to_work_photos,(function(t,r){return a("v-col",{key:t.id,attrs:{cols:"12",sm:"6",md:"3"}},[a("a",{attrs:{href:e.getPhotoPath(t.file_name),target:"_blank"}},[a("v-img",{attrs:{src:e.getPhotoPath(t.file_name)}})],1),t.file_name?a("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.onRemoveRightToWorkPhoto(r)}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")]),e._v("Remove Photo\n                                        ")],1):e._e()],1)})),1)],1)],1)],1)],1),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{staticClass:"mr-4 primary",attrs:{depressed:"",disabled:this.$v.$invalid||e.localLoading,loading:e.localLoading},on:{click:e.submit}},[e._v("Add\n                            ")]),a("v-btn",{staticClass:"warning",attrs:{loading:e.localLoading,depressed:""},on:{click:e.clear}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-cancel")]),e._v("\n                                Clear\n                            ")],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"b59832f0",null);t.a=B.exports;v()(B,{VBanner:p.a,VBtn:f.a,VCard:b.a,VCardText:g.b,VCardTitle:g.c,VCol:k.a,VContainer:y.a,VDatePicker:x.a,VDialog:$.a,VForm:w.a,VIcon:D.a,VImg:N.a,VListItem:P.a,VListItemTitle:C.c,VMenu:Y.a,VRow:E.a,VSelect:R.a,VSwitch:L.a,VTab:A.a,VTabItem:M.a,VTabs:V.a,VTabsItems:q.a,VTextField:F.a})},"60fa":function(e,t,a){"use strict";var r=a("1dce"),s=a("b5ae"),i=a("2f62"),o=a("2ef0"),n={mixins:[r.validationMixin],name:"NewLocationModal",props:["thisDriverData","btnLabel"],validations:{firstName:{required:s.required},email:{required:s.required,email:s.email},lastName:{required:s.required},area_ids:{},restaurant_ids:{}},data:()=>({switch_change_password:!1,showPassword:!1,passwordRules:[e=>!!e||"Please enter your password",e=>e&&e.length>=6||"Password should be at least six symbols long"],driverData:null,readOnly:!1,localLoading:!1,dialog:!1,firstName:"",email:"",address_1:"",address_2:"",emergency_contact_name:"",emergency_contact_phone:"",bank_sort_code:"",bank_account_number:"",lastName:"",telephone:"",city:"",postcode:"",password:"",area_ids:[],restaurant_ids:[]}),computed:{...Object(i.c)(["areas","restaurants"]),selectAreaErrors(){const e=[];return this.$v.area_ids.$dirty,e},selectRestaurantErrors(){const e=[];return this.$v.restaurant_ids.$dirty,e},firstNameErrors(){const e=[];return this.$v.firstName.$dirty?(
/*!this.$v.name.maxLength && errors.push('Name must be at most 10 characters long')*/
!this.$v.firstName.required&&e.push("First name is required."),e):e},lastNameErrors(){const e=[];return this.$v.lastName.$dirty?(!this.$v.lastName.required&&e.push("Last Name is required."),e):e},emailErrors(){const e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required"),e):e},areasList(){return this.areas},restaurantsList(){return 0==this.area_ids.length?[]:o.filter(this.restaurants,e=>-1!==this.area_ids.indexOf(+e.area_id))}},created(){},mounted(){this.driverData=this.thisDriverData,this.id=this.thisDriverData.id,this.firstName=this.thisDriverData.first_name,this.lastName=this.thisDriverData.last_name,this.email=this.thisDriverData.email,this.address_1=this.thisDriverData.address_1,this.address_2=this.thisDriverData.address_2,this.emergency_contact_name=this.thisDriverData.emergency_contact_name,this.emergency_contact_phone=this.thisDriverData.emergency_contact_phone,this.bank_sort_code=this.thisDriverData.bank_sort_code,this.bank_account_number=this.thisDriverData.bank_account_number,this.telephone=this.thisDriverData.phone,this.city=this.thisDriverData.city,this.postcode=this.thisDriverData.postcode,this.status=this.thisDriverData.status,this.area_ids=o.map(this.thisDriverData.area_ids,e=>+e.area_id),this.restaurant_ids=o.map(this.thisDriverData.restaurant_ids,e=>+e.restaurant_id)},methods:{onChangeArea(){let e=o.map(this.restaurantsList,e=>e.id);this.restaurant_ids=o.intersection(e,this.restaurant_ids)},onChangeRestaurant(){},cancel(){this.id=this.thisDriverData.id,this.firstName=this.thisDriverData.first_name,this.lastName=this.thisDriverData.last_name,this.email=this.thisDriverData.email,this.address_1=this.thisDriverData.address_1,this.address_2=this.thisDriverData.address_2,this.emergency_contact_name=this.thisDriverData.emergency_contact_name,this.emergency_contact_phone=this.thisDriverData.emergency_contact_phone,this.bank_sort_code=this.thisDriverData.bank_sort_code,this.bank_account_number=this.thisDriverData.bank_account_number,this.telephone=this.thisDriverData.phone,this.city=this.thisDriverData.city,this.postcode=this.thisDriverData.postcode,this.status=this.thisDriverData.status,this.area_ids=o.map(this.thisDriverData.area_ids,e=>+e.area_id),this.restaurant_ids=o.map(this.thisDriverData.restaurant_ids,e=>+e.restaurant_id),this.dialog=!1},submit(){if(this.localLoading=!0,this.dialog=!0,this.$v.$touch(),!this.$v.$invalid){const e={id:this.id,first_name:this.firstName,last_name:this.lastName,email:this.email,address_1:this.address_1,address_2:this.address_2,emergency_contact_name:this.emergency_contact_name,emergency_contact_phone:this.emergency_contact_phone,bank_sort_code:this.bank_sort_code,bank_account_number:this.bank_account_number,phone:this.telephone,city:this.city,postcode:this.postcode,area_ids:this.area_ids,restaurant_ids:this.restaurant_ids};this.switch_change_password&&(e.password=this.password),this.$store.dispatch("editDriver",e).then(()=>{this.dialog=!1,this.password="",this.switch_change_password=!1,this.$emit("driverUpdated","")}).catch(e=>{this.email="";let t=e.response;this.$store.dispatch("setError",t[Object.keys(t)[0]][0])}).finally(()=>{this.localLoading=!1})}}}},l=a("2877"),c=a("6544"),d=a.n(c),_=a("8336"),h=a("b0af"),m=a("99d9"),u=a("62ad"),v=a("a523"),p=a("169a"),f=a("4bd4"),b=a("132d"),g=a("0fd9"),k=a("b974"),y=a("8654"),x=Object(l.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"float-right primary",attrs:{small:"",depressed:""}},r),[e._v("View\n        ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Edit Driver")]),a("div",{staticClass:"dialog-closeBtn",on:{click:function(t){e.dialog=!1}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")])],1)]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"First Name*",hint:"enter first name",required:"",disabled:!0,"error-messages":e.firstNameErrors},on:{input:function(t){return e.$v.firstName.$touch()},blur:function(t){return e.$v.firstName.$touch()}},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Last Name*",hint:"enter a last name",disabled:!0,"error-messages":e.lastNameErrors,required:""},on:{input:function(t){return e.$v.lastName.$touch()},blur:function(t){return e.$v.lastName.$touch()}},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Driver Email*",required:"",disabled:!0,"error-messages":e.emailErrors},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Address_1",disabled:!0,"persistent-hint":""},model:{value:e.address_1,callback:function(t){e.address_1=t},expression:"address_1"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Address_2",disabled:!0,"persistent-hint":""},model:{value:e.address_2,callback:function(t){e.address_2=t},expression:"address_2"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"City",hint:"Enter city",disabled:!0},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Postcode",hint:"Enter postcode",disabled:!0},model:{value:e.postcode,callback:function(t){e.postcode=t},expression:"postcode"}})],1),a("v-col",{attrs:{cols:"6",sm:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Telephone Number",type:"Telephone",disabled:!0},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Emergency contact name",disabled:!0,"persistent-hint":""},model:{value:e.emergency_contact_name,callback:function(t){e.emergency_contact_name=t},expression:"emergency_contact_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Emergency contact phone",disabled:!0,"persistent-hint":""},model:{value:e.emergency_contact_phone,callback:function(t){e.emergency_contact_phone=t},expression:"emergency_contact_phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Bank sort code",disabled:!0,"persistent-hint":""},model:{value:e.bank_sort_code,callback:function(t){e.bank_sort_code=t},expression:"bank_sort_code"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Bank account number",disabled:!0,"persistent-hint":""},model:{value:e.bank_account_number,callback:function(t){e.bank_account_number=t},expression:"bank_account_number"}})],1),a("v-col",{staticClass:"area-select",attrs:{cols:"12",sm:"12"}},[a("v-select",{attrs:{outlined:"",label:"Areas Assigned to*",multiple:"",chips:"","deletable-chips":"",hint:"leave blank not to assign driver to any areas","persistent-hint":"",disabled:!0,items:e.areasList,"item-text":"name","item-value":"id","error-messages":e.selectAreaErrors},on:{change:e.onChangeArea,blur:function(t){return e.$v.area_ids.$touch()}},model:{value:e.area_ids,callback:function(t){e.area_ids=t},expression:"area_ids"}})],1),a("v-col",{staticClass:"drivers_resturants-select",attrs:{cols:"12",sm:"12"}},[a("v-select",{attrs:{outlined:"",label:"Area's Restaurants Assigned to",multiple:"",chips:"","deletable-chips":"",hint:"if leave blank driver to be assigned to all Area's restaurants","persistent-hint":"",disabled:!0,items:e.restaurantsList,"item-text":"name","item-value":"id","error-messages":e.selectRestaurantErrors},on:{change:e.onChangeRestaurant,blur:function(t){return e.$v.restaurant_ids.$touch()}},model:{value:e.restaurant_ids,callback:function(t){e.restaurant_ids=t},expression:"restaurant_ids"}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"7132f1d8",null);t.a=x.exports;d()(x,{VBtn:_.a,VCard:h.a,VCardText:m.b,VCardTitle:m.c,VCol:u.a,VContainer:v.a,VDialog:p.a,VForm:f.a,VIcon:b.a,VRow:g.a,VSelect:k.a,VTextField:y.a})},"87e5":function(e,t,a){"use strict";var r=a("2f62"),s=a("1dce"),i=a("b5ae"),o=(a("bc3a"),a("2ef0")),n={mixins:[s.validationMixin],name:"NewLocationModal",props:["thisAreaData"],validations:{firstName:{required:i.required},email:{required:i.required,email:i.email},lastName:{required:i.required},area_ids:{},restaurant_ids:{}},data:()=>({readOnly:!1,localLoading:!1,dialog:!1,firstName:"",email:"",lastName:"",area_ids:[],restaurant_ids:[],response_errors:[]}),created(){},updated(){this.thisAreaData&&(this.area_ids=[+this.thisAreaData.id],this.readOnly=!0)},computed:{...Object(r.c)(["areas","restaurants"]),selectAreaErrors(){const e=[];return this.$v.area_ids.$dirty,e},selectRestaurantErrors(){const e=[];return this.$v.restaurant_ids.$dirty,e},firstNameErrors(){const e=[];return this.$v.firstName.$dirty?(
/*!this.$v.name.maxLength && errors.push('Name must be at most 10 characters long')*/
!this.$v.firstName.required&&e.push("First name is required."),e):e},lastNameErrors(){const e=[];return this.$v.lastName.$dirty?(!this.$v.lastName.required&&e.push("Last Name is required."),e):e},emailErrors(){const e=[];if(!this.$v.email.$dirty)return e;!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required");let t=o.get(this.response_errors,"email",[]);return o.each(t,t=>e.push(t)),e},areasList(){return this.areas},restaurantsList(){return 0==this.area_ids.length?[]:o.filter(this.restaurants,e=>-1!==this.area_ids.indexOf(+e.area_id))}},methods:{onChangeArea(){let e=o.map(this.restaurantsList,e=>e.id);this.restaurant_ids=o.intersection(e,this.restaurant_ids)},onChangeRestaurant(){},submit(){if(this.localLoading=!0,this.$v.$touch(),!this.$v.$invalid){const e={first_name:this.firstName,last_name:this.lastName,email:this.email,area_ids:this.area_ids,restaurant_ids:this.restaurant_ids};this.$store.dispatch("createNewDriver",{payload:e,params:{halfBoard:!0}}).then(e=>{this.dialog=!1,this.clear()}).catch(e=>{this.response_errors=e}).finally(()=>{this.localLoading=!1})}},clear(){this.$v.$reset(),this.firstName="",this.email="",this.lastName="",this.restaurant_ids=[],this.area_ids=[]}}},l=a("2877"),c=a("6544"),d=a.n(c),_=a("8336"),h=a("b0af"),m=a("99d9"),u=a("62ad"),v=a("a523"),p=a("169a"),f=a("4bd4"),b=a("132d"),g=a("da13"),k=a("5d23"),y=a("0fd9"),x=a("b974"),$=a("8654"),w=Object(l.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list-item",{on:{click:function(t){t.stopPropagation(),e.dialog=!0}}},[a("v-list-item-title",[e._v("Add Drivers Half Board")])],1),a("v-dialog",{attrs:{width:"700px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Drivers Half Board Register")]),a("div",{staticClass:"dialog-closeBtn",on:{click:function(t){e.dialog=!1}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")])],1)]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"First Name*",hint:"enter first name",required:"","error-messages":e.firstNameErrors},on:{input:function(t){return e.$v.firstName.$touch()},blur:function(t){return e.$v.firstName.$touch()}},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Last Name*",hint:"enter a last name","error-messages":e.lastNameErrors,required:""},on:{input:function(t){return e.$v.lastName.$touch()},blur:function(t){return e.$v.lastName.$touch()}},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{"clear-icon":"mdi-close",clearable:"",outlined:"",label:"Driver Email*",required:"","error-messages":e.emailErrors},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{staticClass:"area-select",attrs:{cols:"12",sm:"12"}},[a("v-select",{attrs:{outlined:"",label:"Areas Assigned to*",multiple:"",chips:"","deletable-chips":"",hint:"leave blank not to assign driver to any areas","persistent-hint":"",items:e.areasList,"item-text":"name","item-value":"id","error-messages":e.selectAreaErrors},on:{change:e.onChangeArea,blur:function(t){return e.$v.area_ids.$touch()}},model:{value:e.area_ids,callback:function(t){e.area_ids=t},expression:"area_ids"}})],1),a("v-col",{staticClass:"drivers_resturants-select",attrs:{cols:"12",sm:"12"}},[a("v-select",{attrs:{outlined:"",label:"Area's Restaurants Assigned to",multiple:"",chips:"","deletable-chips":"",hint:"if leave blank driver to be assigned to all Area's estaurants","persistent-hint":"",items:e.restaurantsList,"item-text":"name","item-value":"id",disabled:0==e.area_ids.length,"error-messages":e.selectRestaurantErrors},on:{change:e.onChangeRestaurant,blur:function(t){return e.$v.restaurant_ids.$touch()}},model:{value:e.restaurant_ids,callback:function(t){e.restaurant_ids=t},expression:"restaurant_ids"}})],1)],1),a("div",{staticClass:"d-flex justify-center"},[a("v-btn",{staticClass:"mr-4 primary",attrs:{depressed:"",disabled:this.$v.$invalid||e.localLoading,loading:e.localLoading},on:{click:e.submit}},[e._v("Add\n                            ")]),a("v-btn",{staticClass:"warning",attrs:{loading:e.localLoading,depressed:""},on:{click:e.clear}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-cancel")]),e._v("\n                                Clear\n                            ")],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,"49efc822",null);t.a=w.exports;d()(w,{VBtn:_.a,VCard:h.a,VCardText:m.b,VCardTitle:m.c,VCol:u.a,VContainer:v.a,VDialog:p.a,VForm:f.a,VIcon:b.a,VListItem:g.a,VListItemTitle:k.c,VRow:y.a,VSelect:x.a,VTextField:$.a})}}]);